ARM GAS  C:\Users\LuckyE\AppData\Local\Temp\ccv7WOz3.s 			page 1


   1              		.cpu cortex-m4
   2              		.eabi_attribute 27, 1
   3              		.eabi_attribute 28, 1
   4              		.eabi_attribute 20, 1
   5              		.eabi_attribute 21, 1
   6              		.eabi_attribute 23, 3
   7              		.eabi_attribute 24, 1
   8              		.eabi_attribute 25, 1
   9              		.eabi_attribute 26, 1
  10              		.eabi_attribute 30, 4
  11              		.eabi_attribute 34, 1
  12              		.eabi_attribute 18, 4
  13              		.file	"stimer.c"
  14              		.text
  15              	.Ltext0:
  16              		.cfi_sections	.debug_frame
  17              		.section	.text.timer_remove,"ax",%progbits
  18              		.align	1
  19              		.syntax unified
  20              		.thumb
  21              		.thumb_func
  22              		.fpu fpv4-sp-d16
  24              	timer_remove:
  25              	.LFB3:
  26              		.file 1 "../../iot_link/stimer/stimer.c"
   1:../../iot_link/stimer/stimer.c **** /*----------------------------------------------------------------------------
   2:../../iot_link/stimer/stimer.c ****  * Copyright (c) <2018>, <Huawei Technologies Co., Ltd>
   3:../../iot_link/stimer/stimer.c ****  * All rights reserved.
   4:../../iot_link/stimer/stimer.c ****  * Redistribution and use in source and binary forms, with or without modification,
   5:../../iot_link/stimer/stimer.c ****  * are permitted provided that the following conditions are met:
   6:../../iot_link/stimer/stimer.c ****  * 1. Redistributions of source code must retain the above copyright notice, this list of
   7:../../iot_link/stimer/stimer.c ****  * conditions and the following disclaimer.
   8:../../iot_link/stimer/stimer.c ****  * 2. Redistributions in binary form must reproduce the above copyright notice, this list
   9:../../iot_link/stimer/stimer.c ****  * of conditions and the following disclaimer in the documentation and/or other materials
  10:../../iot_link/stimer/stimer.c ****  * provided with the distribution.
  11:../../iot_link/stimer/stimer.c ****  * 3. Neither the name of the copyright holder nor the names of its contributors may be used
  12:../../iot_link/stimer/stimer.c ****  * to endorse or promote products derived from this software without specific prior written
  13:../../iot_link/stimer/stimer.c ****  * permission.
  14:../../iot_link/stimer/stimer.c ****  * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS
  15:../../iot_link/stimer/stimer.c ****  * "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  16:../../iot_link/stimer/stimer.c ****  * THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  17:../../iot_link/stimer/stimer.c ****  * PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR
  18:../../iot_link/stimer/stimer.c ****  * CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  19:../../iot_link/stimer/stimer.c ****  * EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  20:../../iot_link/stimer/stimer.c ****  * PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS;
  21:../../iot_link/stimer/stimer.c ****  * OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY,
  22:../../iot_link/stimer/stimer.c ****  * WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR
  23:../../iot_link/stimer/stimer.c ****  * OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF
  24:../../iot_link/stimer/stimer.c ****  * ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
  25:../../iot_link/stimer/stimer.c ****  *---------------------------------------------------------------------------*/
  26:../../iot_link/stimer/stimer.c **** /*----------------------------------------------------------------------------
  27:../../iot_link/stimer/stimer.c ****  * Notice of Export Control Law
  28:../../iot_link/stimer/stimer.c ****  * ===============================================
  29:../../iot_link/stimer/stimer.c ****  * Huawei LiteOS may be subject to applicable export control laws and regulations, which might
  30:../../iot_link/stimer/stimer.c ****  * include those applicable to Huawei LiteOS of U.S. and the country in which you are located.
  31:../../iot_link/stimer/stimer.c ****  * Import, export and usage of Huawei LiteOS in any manner by you shall be in compliance with such
  32:../../iot_link/stimer/stimer.c ****  * applicable export control laws and regulations.
ARM GAS  C:\Users\LuckyE\AppData\Local\Temp\ccv7WOz3.s 			page 2


  33:../../iot_link/stimer/stimer.c ****  *---------------------------------------------------------------------------*/
  34:../../iot_link/stimer/stimer.c **** /**
  35:../../iot_link/stimer/stimer.c ****  *  DATE                AUTHOR      INSTRUCTION
  36:../../iot_link/stimer/stimer.c ****  *  2019-07-26 18:04  zhangqianfu  The first version
  37:../../iot_link/stimer/stimer.c ****  *
  38:../../iot_link/stimer/stimer.c ****  */
  39:../../iot_link/stimer/stimer.c **** 
  40:../../iot_link/stimer/stimer.c **** #include <stddef.h>
  41:../../iot_link/stimer/stimer.c **** #include <stdint.h>
  42:../../iot_link/stimer/stimer.c **** #include <stdlib.h>
  43:../../iot_link/stimer/stimer.c **** #include <string.h>
  44:../../iot_link/stimer/stimer.c **** #include <stdio.h>
  45:../../iot_link/stimer/stimer.c **** 
  46:../../iot_link/stimer/stimer.c **** 
  47:../../iot_link/stimer/stimer.c **** #include <osal.h>
  48:../../iot_link/stimer/stimer.c **** #include <stimer.h>
  49:../../iot_link/stimer/stimer.c **** 
  50:../../iot_link/stimer/stimer.c **** #ifndef  CONFIG_STIMER_STACKSIZE
  51:../../iot_link/stimer/stimer.c **** #define  CONFIG_STIMER_STACKSIZE    0x800
  52:../../iot_link/stimer/stimer.c **** #endif
  53:../../iot_link/stimer/stimer.c **** 
  54:../../iot_link/stimer/stimer.c **** #ifndef  CONFIG_STIMER_TASKPRIOR
  55:../../iot_link/stimer/stimer.c **** #define  CONFIG_STIMER_TASKPRIOR    10
  56:../../iot_link/stimer/stimer.c **** #endif
  57:../../iot_link/stimer/stimer.c **** 
  58:../../iot_link/stimer/stimer.c **** 
  59:../../iot_link/stimer/stimer.c **** 
  60:../../iot_link/stimer/stimer.c **** ///< we use the normal list to manage the timer, next time you could use the RB
  61:../../iot_link/stimer/stimer.c **** ///< tree or something else to do some optimization,thanks for your supporting
  62:../../iot_link/stimer/stimer.c **** 
  63:../../iot_link/stimer/stimer.c **** typedef struct timer_item
  64:../../iot_link/stimer/stimer.c **** {
  65:../../iot_link/stimer/stimer.c ****     char               *name;        ///< verify the timer, will be used in the debug
  66:../../iot_link/stimer/stimer.c ****     uint32_t            cycle;       ///< timer cycle
  67:../../iot_link/stimer/stimer.c ****     uint32_t            flag;        ///< timer flag
  68:../../iot_link/stimer/stimer.c ****     fn_stimer_handler   handler;     ///< timer handler
  69:../../iot_link/stimer/stimer.c ****     void               *args;        ///< timer handler parameter
  70:../../iot_link/stimer/stimer.c ****     int64_t             dead_time;   ///< it is the dead time
  71:../../iot_link/stimer/stimer.c ****     struct timer_item  *nxt;         ///< used for the timer list
  72:../../iot_link/stimer/stimer.c **** }stimer_item_t;  ///< each timer will have this structure
  73:../../iot_link/stimer/stimer.c **** 
  74:../../iot_link/stimer/stimer.c **** typedef struct
  75:../../iot_link/stimer/stimer.c **** {
  76:../../iot_link/stimer/stimer.c ****     osal_semp_t    semp;       ///< used for time wait sync
  77:../../iot_link/stimer/stimer.c ****     osal_mutex_t   mutex;      ///< used for protect the timer list
  78:../../iot_link/stimer/stimer.c ****     stimer_item_t *lst;        ///< this is the soft timer listï¼Œ
  79:../../iot_link/stimer/stimer.c ****     void          *task;       ///< this is the task engine
  80:../../iot_link/stimer/stimer.c ****     int            daemon_exit;///< this is the task exit;
  81:../../iot_link/stimer/stimer.c **** 
  82:../../iot_link/stimer/stimer.c **** }stimer_cb_t;
  83:../../iot_link/stimer/stimer.c **** 
  84:../../iot_link/stimer/stimer.c **** static stimer_cb_t s_stimer_cb =  \
  85:../../iot_link/stimer/stimer.c **** {
  86:../../iot_link/stimer/stimer.c ****     .semp  = cn_semp_invalid,
  87:../../iot_link/stimer/stimer.c ****     .mutex = cn_mutex_invalid,
  88:../../iot_link/stimer/stimer.c ****     .lst   = NULL,
  89:../../iot_link/stimer/stimer.c ****     .task  = NULL,
ARM GAS  C:\Users\LuckyE\AppData\Local\Temp\ccv7WOz3.s 			page 3


  90:../../iot_link/stimer/stimer.c **** };
  91:../../iot_link/stimer/stimer.c **** 
  92:../../iot_link/stimer/stimer.c **** 
  93:../../iot_link/stimer/stimer.c **** #define cn_stimer_wait_max  (cn_osal_timeout_forever)    ///< almost the max time
  94:../../iot_link/stimer/stimer.c **** #define cn_stimer_dead_max  (0x7fffffffffffffff)         ///< maybe the int64_t max time
  95:../../iot_link/stimer/stimer.c **** static void timer_remove(stimer_item_t *item)
  96:../../iot_link/stimer/stimer.c **** {
  27              		.loc 1 96 0
  28              		.cfi_startproc
  29              		@ args = 0, pretend = 0, frame = 0
  30              		@ frame_needed = 0, uses_anonymous_args = 0
  31              		@ link register save eliminated.
  32              	.LVL0:
  97:../../iot_link/stimer/stimer.c ****     stimer_item_t  *tmp;
  98:../../iot_link/stimer/stimer.c ****     if(item == s_stimer_cb.lst)
  33              		.loc 1 98 0
  34 0000 084A     		ldr	r2, .L7
  35 0002 9368     		ldr	r3, [r2, #8]
  36 0004 8342     		cmp	r3, r0
  37 0006 05D1     		bne	.L2
  99:../../iot_link/stimer/stimer.c ****     {
 100:../../iot_link/stimer/stimer.c ****         s_stimer_cb.lst = item->nxt ;
  38              		.loc 1 100 0
  39 0008 036A     		ldr	r3, [r0, #32]
  40 000a 9360     		str	r3, [r2, #8]
  41              	.L3:
 101:../../iot_link/stimer/stimer.c ****     }
 102:../../iot_link/stimer/stimer.c ****     else
 103:../../iot_link/stimer/stimer.c ****     {
 104:../../iot_link/stimer/stimer.c ****         tmp = s_stimer_cb.lst;
 105:../../iot_link/stimer/stimer.c ****         while(NULL != tmp)
 106:../../iot_link/stimer/stimer.c ****         {
 107:../../iot_link/stimer/stimer.c ****             if(tmp->nxt == item)
 108:../../iot_link/stimer/stimer.c ****             {
 109:../../iot_link/stimer/stimer.c ****                 tmp->nxt = item->nxt;
 110:../../iot_link/stimer/stimer.c ****                 break;
 111:../../iot_link/stimer/stimer.c ****             }
 112:../../iot_link/stimer/stimer.c ****             tmp = tmp->nxt;
 113:../../iot_link/stimer/stimer.c ****         }
 114:../../iot_link/stimer/stimer.c ****     }
 115:../../iot_link/stimer/stimer.c ****     item->nxt = NULL;
  42              		.loc 1 115 0
  43 000c 0023     		movs	r3, #0
  44 000e 0362     		str	r3, [r0, #32]
 116:../../iot_link/stimer/stimer.c **** }
  45              		.loc 1 116 0
  46 0010 7047     		bx	lr
  47              	.LVL1:
  48              	.L5:
  49 0012 1346     		mov	r3, r2
  50              	.LVL2:
  51              	.L2:
 105:../../iot_link/stimer/stimer.c ****         {
  52              		.loc 1 105 0
  53 0014 002B     		cmp	r3, #0
  54 0016 F9D0     		beq	.L3
 107:../../iot_link/stimer/stimer.c ****             {
ARM GAS  C:\Users\LuckyE\AppData\Local\Temp\ccv7WOz3.s 			page 4


  55              		.loc 1 107 0
  56 0018 1A6A     		ldr	r2, [r3, #32]
  57 001a 8242     		cmp	r2, r0
  58 001c F9D1     		bne	.L5
 109:../../iot_link/stimer/stimer.c ****                 break;
  59              		.loc 1 109 0
  60 001e 026A     		ldr	r2, [r0, #32]
  61 0020 1A62     		str	r2, [r3, #32]
 110:../../iot_link/stimer/stimer.c ****             }
  62              		.loc 1 110 0
  63 0022 F3E7     		b	.L3
  64              	.L8:
  65              		.align	2
  66              	.L7:
  67 0024 00000000 		.word	.LANCHOR0
  68              		.cfi_endproc
  69              	.LFE3:
  71              		.section	.text.timer_add,"ax",%progbits
  72              		.align	1
  73              		.syntax unified
  74              		.thumb
  75              		.thumb_func
  76              		.fpu fpv4-sp-d16
  78              	timer_add:
  79              	.LFB4:
 117:../../iot_link/stimer/stimer.c **** ///< add the timer to the queue,by dead time
 118:../../iot_link/stimer/stimer.c **** static void timer_add(stimer_item_t *timer)
 119:../../iot_link/stimer/stimer.c **** {
  80              		.loc 1 119 0
  81              		.cfi_startproc
  82              		@ args = 0, pretend = 0, frame = 0
  83              		@ frame_needed = 0, uses_anonymous_args = 0
  84              	.LVL3:
 120:../../iot_link/stimer/stimer.c ****     int64_t        dead_time;
 121:../../iot_link/stimer/stimer.c ****     stimer_item_t  *tmp;  ///< find a timer,who's dead time is less and the following one is equal 
 122:../../iot_link/stimer/stimer.c **** 
 123:../../iot_link/stimer/stimer.c ****     tmp = s_stimer_cb.lst;
  85              		.loc 1 123 0
  86 0000 0F49     		ldr	r1, .L20
 119:../../iot_link/stimer/stimer.c ****     int64_t        dead_time;
  87              		.loc 1 119 0
  88 0002 2DE9D043 		push	{r4, r6, r7, r8, r9, lr}
  89              	.LCFI0:
  90              		.cfi_def_cfa_offset 24
  91              		.cfi_offset 4, -24
  92              		.cfi_offset 6, -20
  93              		.cfi_offset 7, -16
  94              		.cfi_offset 8, -12
  95              		.cfi_offset 9, -8
  96              		.cfi_offset 14, -4
  97              		.loc 1 123 0
  98 0006 8C68     		ldr	r4, [r1, #8]
  99              	.LVL4:
 124:../../iot_link/stimer/stimer.c **** 
 125:../../iot_link/stimer/stimer.c ****     dead_time = timer->dead_time;
 100              		.loc 1 125 0
 101 0008 D0E90667 		ldrd	r6, [r0, #24]
ARM GAS  C:\Users\LuckyE\AppData\Local\Temp\ccv7WOz3.s 			page 5


 102              	.LVL5:
 123:../../iot_link/stimer/stimer.c **** 
 103              		.loc 1 123 0
 104 000c 2346     		mov	r3, r4
 105              	.LVL6:
 106              	.L10:
 126:../../iot_link/stimer/stimer.c **** 
 127:../../iot_link/stimer/stimer.c ****     while(NULL != tmp)
 107              		.loc 1 127 0
 108 000e 23B9     		cbnz	r3, .L13
 109              	.L11:
 110              	.LVL7:
 128:../../iot_link/stimer/stimer.c ****     {
 129:../../iot_link/stimer/stimer.c ****         if(tmp->dead_time >= dead_time)   ///< all dead time is bigger
 130:../../iot_link/stimer/stimer.c ****         {
 131:../../iot_link/stimer/stimer.c ****             tmp = NULL;
 132:../../iot_link/stimer/stimer.c ****             break;
 133:../../iot_link/stimer/stimer.c ****         }
 134:../../iot_link/stimer/stimer.c ****         else if((NULL ==tmp->nxt) ||(tmp->nxt->dead_time >= dead_time))  ///< find one
 135:../../iot_link/stimer/stimer.c ****         {
 136:../../iot_link/stimer/stimer.c ****             break;
 137:../../iot_link/stimer/stimer.c ****         }
 138:../../iot_link/stimer/stimer.c ****         else ///< continue to find
 139:../../iot_link/stimer/stimer.c ****         {
 140:../../iot_link/stimer/stimer.c ****             tmp = tmp->nxt;
 141:../../iot_link/stimer/stimer.c ****         }
 142:../../iot_link/stimer/stimer.c ****     }
 143:../../iot_link/stimer/stimer.c ****     if(NULL == tmp)
 144:../../iot_link/stimer/stimer.c ****     {
 145:../../iot_link/stimer/stimer.c ****         if(NULL != s_stimer_cb.lst)
 111              		.loc 1 145 0
 112 0010 04B1     		cbz	r4, .L15
 146:../../iot_link/stimer/stimer.c ****         {
 147:../../iot_link/stimer/stimer.c ****             timer->nxt = s_stimer_cb.lst;
 113              		.loc 1 147 0
 114 0012 0462     		str	r4, [r0, #32]
 115              	.L15:
 148:../../iot_link/stimer/stimer.c ****         }
 149:../../iot_link/stimer/stimer.c ****         s_stimer_cb.lst = timer;
 116              		.loc 1 149 0
 117 0014 8860     		str	r0, [r1, #8]
 118              	.LVL8:
 119              	.L9:
 150:../../iot_link/stimer/stimer.c ****     }
 151:../../iot_link/stimer/stimer.c ****     else
 152:../../iot_link/stimer/stimer.c ****     {
 153:../../iot_link/stimer/stimer.c ****         timer->nxt = tmp->nxt;
 154:../../iot_link/stimer/stimer.c ****         tmp->nxt = timer;
 155:../../iot_link/stimer/stimer.c ****     }
 156:../../iot_link/stimer/stimer.c **** 
 157:../../iot_link/stimer/stimer.c ****     return;
 158:../../iot_link/stimer/stimer.c **** }
 120              		.loc 1 158 0
 121 0016 BDE8D083 		pop	{r4, r6, r7, r8, r9, pc}
 122              	.LVL9:
 123              	.L13:
 129:../../iot_link/stimer/stimer.c ****         {
ARM GAS  C:\Users\LuckyE\AppData\Local\Temp\ccv7WOz3.s 			page 6


 124              		.loc 1 129 0
 125 001a D3E90689 		ldrd	r8, [r3, #24]
 126 001e B045     		cmp	r8, r6
 127 0020 79EB0702 		sbcs	r2, r9, r7
 128 0024 F4DA     		bge	.L11
 134:../../iot_link/stimer/stimer.c ****         {
 129              		.loc 1 134 0
 130 0026 1A6A     		ldr	r2, [r3, #32]
 131 0028 3AB1     		cbz	r2, .L12
 134:../../iot_link/stimer/stimer.c ****         {
 132              		.loc 1 134 0 is_stmt 0 discriminator 1
 133 002a D2E90689 		ldrd	r8, [r2, #24]
 134 002e B045     		cmp	r8, r6
 135 0030 79EB070C 		sbcs	ip, r9, r7
 136 0034 01DA     		bge	.L12
 137 0036 1346     		mov	r3, r2
 138              	.LVL10:
 139 0038 E9E7     		b	.L10
 140              	.LVL11:
 141              	.L12:
 153:../../iot_link/stimer/stimer.c ****         tmp->nxt = timer;
 142              		.loc 1 153 0 is_stmt 1
 143 003a 0262     		str	r2, [r0, #32]
 154:../../iot_link/stimer/stimer.c ****     }
 144              		.loc 1 154 0
 145 003c 1862     		str	r0, [r3, #32]
 146 003e EAE7     		b	.L9
 147              	.L21:
 148              		.align	2
 149              	.L20:
 150 0040 00000000 		.word	.LANCHOR0
 151              		.cfi_endproc
 152              	.LFE4:
 154              		.section	.text.__timer_entry,"ax",%progbits
 155              		.align	1
 156              		.syntax unified
 157              		.thumb
 158              		.thumb_func
 159              		.fpu fpv4-sp-d16
 161              	__timer_entry:
 162              	.LFB7:
 159:../../iot_link/stimer/stimer.c **** 
 160:../../iot_link/stimer/stimer.c **** ///< scan the all the list, take it easy
 161:../../iot_link/stimer/stimer.c **** static void  timer_scan(void)
 162:../../iot_link/stimer/stimer.c **** {
 163:../../iot_link/stimer/stimer.c ****     stimer_item_t *item;
 164:../../iot_link/stimer/stimer.c ****     int64_t       cur_time;
 165:../../iot_link/stimer/stimer.c **** 
 166:../../iot_link/stimer/stimer.c ****     while(NULL != s_stimer_cb.lst)
 167:../../iot_link/stimer/stimer.c ****     {
 168:../../iot_link/stimer/stimer.c ****         item = s_stimer_cb.lst;
 169:../../iot_link/stimer/stimer.c ****         s_stimer_cb.lst = item->nxt;
 170:../../iot_link/stimer/stimer.c ****         item->nxt = NULL;
 171:../../iot_link/stimer/stimer.c **** 
 172:../../iot_link/stimer/stimer.c ****         cur_time = osal_sys_time();
 173:../../iot_link/stimer/stimer.c ****         ///< check if is timeout or not
 174:../../iot_link/stimer/stimer.c ****         if(item->dead_time <= cur_time)
ARM GAS  C:\Users\LuckyE\AppData\Local\Temp\ccv7WOz3.s 			page 7


 175:../../iot_link/stimer/stimer.c ****         {
 176:../../iot_link/stimer/stimer.c ****             if(NULL != item->handler)
 177:../../iot_link/stimer/stimer.c ****             {
 178:../../iot_link/stimer/stimer.c ****                 item->handler(item->args);
 179:../../iot_link/stimer/stimer.c ****             }
 180:../../iot_link/stimer/stimer.c ****             if(item->flag & cn_stimer_flag_once)
 181:../../iot_link/stimer/stimer.c ****             {
 182:../../iot_link/stimer/stimer.c ****                 item->flag &= (~cn_stimer_flag_start);
 183:../../iot_link/stimer/stimer.c ****                 item->dead_time = cn_stimer_dead_max;
 184:../../iot_link/stimer/stimer.c ****             }
 185:../../iot_link/stimer/stimer.c ****             else
 186:../../iot_link/stimer/stimer.c ****             {
 187:../../iot_link/stimer/stimer.c ****                 item->dead_time = cur_time + item->cycle;
 188:../../iot_link/stimer/stimer.c ****             }
 189:../../iot_link/stimer/stimer.c **** 
 190:../../iot_link/stimer/stimer.c ****             timer_add(item);
 191:../../iot_link/stimer/stimer.c ****         }
 192:../../iot_link/stimer/stimer.c ****         else
 193:../../iot_link/stimer/stimer.c ****         {
 194:../../iot_link/stimer/stimer.c ****             timer_add(item);
 195:../../iot_link/stimer/stimer.c ****             break;
 196:../../iot_link/stimer/stimer.c ****         }
 197:../../iot_link/stimer/stimer.c ****     }
 198:../../iot_link/stimer/stimer.c **** 
 199:../../iot_link/stimer/stimer.c **** }
 200:../../iot_link/stimer/stimer.c **** 
 201:../../iot_link/stimer/stimer.c **** 
 202:../../iot_link/stimer/stimer.c **** int stimer_daemonquit()
 203:../../iot_link/stimer/stimer.c **** {
 204:../../iot_link/stimer/stimer.c **** 
 205:../../iot_link/stimer/stimer.c ****     s_stimer_cb.daemon_exit = 1;
 206:../../iot_link/stimer/stimer.c **** 
 207:../../iot_link/stimer/stimer.c ****     return 0;
 208:../../iot_link/stimer/stimer.c **** }
 209:../../iot_link/stimer/stimer.c **** 
 210:../../iot_link/stimer/stimer.c **** 
 211:../../iot_link/stimer/stimer.c **** ///< this is the soft timer main engine
 212:../../iot_link/stimer/stimer.c **** static int __timer_entry(void *args)
 213:../../iot_link/stimer/stimer.c **** {
 163              		.loc 1 213 0
 164              		.cfi_startproc
 165              		@ args = 0, pretend = 0, frame = 0
 166              		@ frame_needed = 0, uses_anonymous_args = 0
 167              	.LVL12:
 168 0000 2DE9F84F 		push	{r3, r4, r5, r6, r7, r8, r9, r10, fp, lr}
 169              	.LCFI1:
 170              		.cfi_def_cfa_offset 40
 171              		.cfi_offset 3, -40
 172              		.cfi_offset 4, -36
 173              		.cfi_offset 5, -32
 174              		.cfi_offset 6, -28
 175              		.cfi_offset 7, -24
 176              		.cfi_offset 8, -20
 177              		.cfi_offset 9, -16
 178              		.cfi_offset 10, -12
 179              		.cfi_offset 11, -8
 180              		.cfi_offset 14, -4
ARM GAS  C:\Users\LuckyE\AppData\Local\Temp\ccv7WOz3.s 			page 8


 214:../../iot_link/stimer/stimer.c ****     uint32_t wait_time;
 215:../../iot_link/stimer/stimer.c ****     int64_t cur_time;
 216:../../iot_link/stimer/stimer.c **** 
 217:../../iot_link/stimer/stimer.c ****     wait_time= cn_stimer_wait_max;
 218:../../iot_link/stimer/stimer.c ****     while(s_stimer_cb.daemon_exit == 0)
 181              		.loc 1 218 0
 182 0004 304D     		ldr	r5, .L43
 217:../../iot_link/stimer/stimer.c ****     while(s_stimer_cb.daemon_exit == 0)
 183              		.loc 1 217 0
 184 0006 4FF0FF36 		mov	r6, #-1
 185              	.LBB4:
 186              	.LBB5:
 183:../../iot_link/stimer/stimer.c ****             }
 187              		.loc 1 183 0
 188 000a 4FF0FF38 		mov	r8, #-1
 189 000e 6FF00049 		mvn	r9, #-2147483648
 190              	.LVL13:
 191              	.L32:
 192              	.LBE5:
 193              	.LBE4:
 194              		.loc 1 218 0
 195 0012 2F69     		ldr	r7, [r5, #16]
 196 0014 17B1     		cbz	r7, .L34
 219:../../iot_link/stimer/stimer.c ****     {
 220:../../iot_link/stimer/stimer.c ****         (void)osal_semp_pend(s_stimer_cb.semp,wait_time);  ///< if any timer exist before the task,
 221:../../iot_link/stimer/stimer.c ****         ///< check all the list and do it
 222:../../iot_link/stimer/stimer.c ****         if(true == osal_mutex_lock(s_stimer_cb.mutex))
 223:../../iot_link/stimer/stimer.c ****         {
 224:../../iot_link/stimer/stimer.c ****             timer_scan();
 225:../../iot_link/stimer/stimer.c ****             (void) osal_mutex_unlock(s_stimer_cb.mutex);
 226:../../iot_link/stimer/stimer.c ****         }
 227:../../iot_link/stimer/stimer.c **** 
 228:../../iot_link/stimer/stimer.c ****         ///<compute all the time to wait;
 229:../../iot_link/stimer/stimer.c ****         cur_time = osal_sys_time();
 230:../../iot_link/stimer/stimer.c ****         if(true == osal_mutex_lock(s_stimer_cb.mutex))
 231:../../iot_link/stimer/stimer.c ****         {
 232:../../iot_link/stimer/stimer.c ****             if(( NULL==s_stimer_cb.lst) ||(cn_stimer_dead_max == s_stimer_cb.lst->dead_time))
 233:../../iot_link/stimer/stimer.c ****             {
 234:../../iot_link/stimer/stimer.c ****                 wait_time = cn_stimer_wait_max;
 235:../../iot_link/stimer/stimer.c ****             }
 236:../../iot_link/stimer/stimer.c ****             else
 237:../../iot_link/stimer/stimer.c ****             {
 238:../../iot_link/stimer/stimer.c ****                 wait_time = s_stimer_cb.lst->dead_time > cur_time?(s_stimer_cb.lst->dead_time - cur
 239:../../iot_link/stimer/stimer.c ****                 if(wait_time > (cn_stimer_wait_max-1))
 240:../../iot_link/stimer/stimer.c ****                 {
 241:../../iot_link/stimer/stimer.c ****                     wait_time = cn_stimer_wait_max;
 242:../../iot_link/stimer/stimer.c ****                 }
 243:../../iot_link/stimer/stimer.c ****             }
 244:../../iot_link/stimer/stimer.c **** 
 245:../../iot_link/stimer/stimer.c ****             (void) osal_mutex_unlock(s_stimer_cb.mutex);
 246:../../iot_link/stimer/stimer.c ****         }
 247:../../iot_link/stimer/stimer.c ****     }
 248:../../iot_link/stimer/stimer.c ****     return 0;
 249:../../iot_link/stimer/stimer.c **** }
 197              		.loc 1 249 0
 198 0016 0020     		movs	r0, #0
 199 0018 BDE8F88F 		pop	{r3, r4, r5, r6, r7, r8, r9, r10, fp, pc}
ARM GAS  C:\Users\LuckyE\AppData\Local\Temp\ccv7WOz3.s 			page 9


 200              	.L34:
 220:../../iot_link/stimer/stimer.c ****         ///< check all the list and do it
 201              		.loc 1 220 0
 202 001c 3146     		mov	r1, r6
 203 001e 2868     		ldr	r0, [r5]
 204 0020 FFF7FEFF 		bl	osal_semp_pend
 205              	.LVL14:
 222:../../iot_link/stimer/stimer.c ****         {
 206              		.loc 1 222 0
 207 0024 6868     		ldr	r0, [r5, #4]
 208 0026 FFF7FEFF 		bl	osal_mutex_lock
 209              	.LVL15:
 210 002a 0128     		cmp	r0, #1
 211 002c 2CD1     		bne	.L25
 212              	.L24:
 213              	.LBB7:
 214              	.LBB6:
 166:../../iot_link/stimer/stimer.c ****     {
 215              		.loc 1 166 0
 216 002e AC68     		ldr	r4, [r5, #8]
 217 0030 3CB3     		cbz	r4, .L30
 218              	.LVL16:
 169:../../iot_link/stimer/stimer.c ****         item->nxt = NULL;
 219              		.loc 1 169 0
 220 0032 236A     		ldr	r3, [r4, #32]
 170:../../iot_link/stimer/stimer.c **** 
 221              		.loc 1 170 0
 222 0034 2762     		str	r7, [r4, #32]
 169:../../iot_link/stimer/stimer.c ****         item->nxt = NULL;
 223              		.loc 1 169 0
 224 0036 AB60     		str	r3, [r5, #8]
 172:../../iot_link/stimer/stimer.c ****         ///< check if is timeout or not
 225              		.loc 1 172 0
 226 0038 FFF7FEFF 		bl	osal_sys_time
 227              	.LVL17:
 174:../../iot_link/stimer/stimer.c ****         {
 228              		.loc 1 174 0
 229 003c D4E90623 		ldrd	r2, [r4, #24]
 230 0040 9042     		cmp	r0, r2
 231 0042 71EB0303 		sbcs	r3, r1, r3
 172:../../iot_link/stimer/stimer.c ****         ///< check if is timeout or not
 232              		.loc 1 172 0
 233 0046 8246     		mov	r10, r0
 234 0048 8B46     		mov	fp, r1
 235              	.LVL18:
 174:../../iot_link/stimer/stimer.c ****         {
 236              		.loc 1 174 0
 237 004a 17DB     		blt	.L26
 176:../../iot_link/stimer/stimer.c ****             {
 238              		.loc 1 176 0
 239 004c E368     		ldr	r3, [r4, #12]
 240 004e 0BB1     		cbz	r3, .L27
 178:../../iot_link/stimer/stimer.c ****             }
 241              		.loc 1 178 0
 242 0050 2069     		ldr	r0, [r4, #16]
 243 0052 9847     		blx	r3
 244              	.LVL19:
ARM GAS  C:\Users\LuckyE\AppData\Local\Temp\ccv7WOz3.s 			page 10


 245              	.L27:
 180:../../iot_link/stimer/stimer.c ****             {
 246              		.loc 1 180 0
 247 0054 A368     		ldr	r3, [r4, #8]
 248 0056 DA07     		lsls	r2, r3, #31
 249 0058 08D5     		bpl	.L28
 183:../../iot_link/stimer/stimer.c ****             }
 250              		.loc 1 183 0
 251 005a C4E90689 		strd	r8, [r4, #24]
 182:../../iot_link/stimer/stimer.c ****                 item->dead_time = cn_stimer_dead_max;
 252              		.loc 1 182 0
 253 005e 23F00203 		bic	r3, r3, #2
 254 0062 A360     		str	r3, [r4, #8]
 255              	.LVL20:
 256              	.L29:
 190:../../iot_link/stimer/stimer.c ****         }
 257              		.loc 1 190 0
 258 0064 2046     		mov	r0, r4
 259 0066 FFF7FEFF 		bl	timer_add
 260              	.LVL21:
 261 006a E0E7     		b	.L24
 262              	.LVL22:
 263              	.L28:
 187:../../iot_link/stimer/stimer.c ****             }
 264              		.loc 1 187 0
 265 006c 6368     		ldr	r3, [r4, #4]
 266 006e 1AEB030A 		adds	r10, r10, r3
 267              	.LVL23:
 268 0072 4BF1000B 		adc	fp, fp, #0
 269 0076 C4E906AB 		strd	r10, [r4, #24]
 270 007a F3E7     		b	.L29
 271              	.LVL24:
 272              	.L26:
 194:../../iot_link/stimer/stimer.c ****             break;
 273              		.loc 1 194 0
 274 007c 2046     		mov	r0, r4
 275 007e FFF7FEFF 		bl	timer_add
 276              	.LVL25:
 277              	.L30:
 278              	.LBE6:
 279              	.LBE7:
 225:../../iot_link/stimer/stimer.c ****         }
 280              		.loc 1 225 0
 281 0082 6868     		ldr	r0, [r5, #4]
 282 0084 FFF7FEFF 		bl	osal_mutex_unlock
 283              	.LVL26:
 284              	.L25:
 229:../../iot_link/stimer/stimer.c ****         if(true == osal_mutex_lock(s_stimer_cb.mutex))
 285              		.loc 1 229 0
 286 0088 FFF7FEFF 		bl	osal_sys_time
 287              	.LVL27:
 288 008c 8246     		mov	r10, r0
 230:../../iot_link/stimer/stimer.c ****         {
 289              		.loc 1 230 0
 290 008e 6868     		ldr	r0, [r5, #4]
 229:../../iot_link/stimer/stimer.c ****         if(true == osal_mutex_lock(s_stimer_cb.mutex))
 291              		.loc 1 229 0
ARM GAS  C:\Users\LuckyE\AppData\Local\Temp\ccv7WOz3.s 			page 11


 292 0090 8B46     		mov	fp, r1
 293              	.LVL28:
 230:../../iot_link/stimer/stimer.c ****         {
 294              		.loc 1 230 0
 295 0092 FFF7FEFF 		bl	osal_mutex_lock
 296              	.LVL29:
 297 0096 0128     		cmp	r0, #1
 298 0098 BBD1     		bne	.L32
 232:../../iot_link/stimer/stimer.c ****             {
 299              		.loc 1 232 0
 300 009a AB68     		ldr	r3, [r5, #8]
 301 009c 7BB1     		cbz	r3, .L36
 232:../../iot_link/stimer/stimer.c ****             {
 302              		.loc 1 232 0 is_stmt 0 discriminator 1
 303 009e D3E90667 		ldrd	r6, [r3, #24]
 304 00a2 4F45     		cmp	r7, r9
 305 00a4 08BF     		it	eq
 306 00a6 4645     		cmpeq	r6, r8
 307 00a8 09D0     		beq	.L36
 238:../../iot_link/stimer/stimer.c ****                 if(wait_time > (cn_stimer_wait_max-1))
 308              		.loc 1 238 0 is_stmt 1
 309 00aa B245     		cmp	r10, r6
 310 00ac 7BEB0703 		sbcs	r3, fp, r7
 311 00b0 08DA     		bge	.L37
 238:../../iot_link/stimer/stimer.c ****                 if(wait_time > (cn_stimer_wait_max-1))
 312              		.loc 1 238 0 is_stmt 0 discriminator 1
 313 00b2 A6EB0A06 		sub	r6, r6, r10
 314              	.LVL30:
 315              	.L33:
 245:../../iot_link/stimer/stimer.c ****         }
 316              		.loc 1 245 0 is_stmt 1
 317 00b6 6868     		ldr	r0, [r5, #4]
 318 00b8 FFF7FEFF 		bl	osal_mutex_unlock
 319              	.LVL31:
 320 00bc A9E7     		b	.L32
 321              	.LVL32:
 322              	.L36:
 234:../../iot_link/stimer/stimer.c ****             }
 323              		.loc 1 234 0
 324 00be 4FF0FF36 		mov	r6, #-1
 325 00c2 F8E7     		b	.L33
 326              	.L37:
 238:../../iot_link/stimer/stimer.c ****                 if(wait_time > (cn_stimer_wait_max-1))
 327              		.loc 1 238 0
 328 00c4 0026     		movs	r6, #0
 329 00c6 F6E7     		b	.L33
 330              	.L44:
 331              		.align	2
 332              	.L43:
 333 00c8 00000000 		.word	.LANCHOR0
 334              		.cfi_endproc
 335              	.LFE7:
 337              		.section	.text.stimer_print,"ax",%progbits
 338              		.align	1
 339              		.syntax unified
 340              		.thumb
 341              		.thumb_func
ARM GAS  C:\Users\LuckyE\AppData\Local\Temp\ccv7WOz3.s 			page 12


 342              		.fpu fpv4-sp-d16
 344              	stimer_print:
 345              	.LFB12:
 250:../../iot_link/stimer/stimer.c **** 
 251:../../iot_link/stimer/stimer.c **** /**
 252:../../iot_link/stimer/stimer.c ****  * @brief: this function used for initialize the timer component, should be called after the os
 253:../../iot_link/stimer/stimer.c ****  *
 254:../../iot_link/stimer/stimer.c ****  * */
 255:../../iot_link/stimer/stimer.c **** int32_t stimer_init()
 256:../../iot_link/stimer/stimer.c **** {
 257:../../iot_link/stimer/stimer.c ****     int32_t ret =-1;
 258:../../iot_link/stimer/stimer.c **** 
 259:../../iot_link/stimer/stimer.c ****     if(false == osal_semp_create(&s_stimer_cb.semp,1,0))
 260:../../iot_link/stimer/stimer.c ****     {
 261:../../iot_link/stimer/stimer.c ****         goto EXIT_SEMPERR;
 262:../../iot_link/stimer/stimer.c ****     }
 263:../../iot_link/stimer/stimer.c ****     if(false == osal_mutex_create(&s_stimer_cb.mutex))
 264:../../iot_link/stimer/stimer.c ****     {
 265:../../iot_link/stimer/stimer.c ****         goto EXIT_MUTEXERR;
 266:../../iot_link/stimer/stimer.c ****     }
 267:../../iot_link/stimer/stimer.c **** 
 268:../../iot_link/stimer/stimer.c ****     s_stimer_cb.task = osal_task_create("soft timer",__timer_entry,NULL,CONFIG_STIMER_STACKSIZE,NUL
 269:../../iot_link/stimer/stimer.c **** 
 270:../../iot_link/stimer/stimer.c ****     if(NULL == s_stimer_cb.task)
 271:../../iot_link/stimer/stimer.c ****     {
 272:../../iot_link/stimer/stimer.c ****         goto EXIT_TASKERR;
 273:../../iot_link/stimer/stimer.c ****     }
 274:../../iot_link/stimer/stimer.c ****     s_stimer_cb.daemon_exit = 0;
 275:../../iot_link/stimer/stimer.c **** 
 276:../../iot_link/stimer/stimer.c ****     ret = 0;
 277:../../iot_link/stimer/stimer.c ****     return ret;
 278:../../iot_link/stimer/stimer.c **** 
 279:../../iot_link/stimer/stimer.c **** EXIT_TASKERR:
 280:../../iot_link/stimer/stimer.c ****     (void) osal_mutex_del(s_stimer_cb.mutex);
 281:../../iot_link/stimer/stimer.c ****     s_stimer_cb.mutex = cn_mutex_invalid;
 282:../../iot_link/stimer/stimer.c **** EXIT_MUTEXERR:
 283:../../iot_link/stimer/stimer.c ****     (void) osal_semp_del(s_stimer_cb.semp);
 284:../../iot_link/stimer/stimer.c ****     s_stimer_cb.semp = cn_semp_invalid;
 285:../../iot_link/stimer/stimer.c **** EXIT_SEMPERR:
 286:../../iot_link/stimer/stimer.c ****     return ret;
 287:../../iot_link/stimer/stimer.c **** }
 288:../../iot_link/stimer/stimer.c **** 
 289:../../iot_link/stimer/stimer.c **** stimer_t stimer_create(const char *name,fn_stimer_handler handler, void *arg,uint32_t cycle,uint32_
 290:../../iot_link/stimer/stimer.c **** {
 291:../../iot_link/stimer/stimer.c ****     stimer_item_t *item;
 292:../../iot_link/stimer/stimer.c ****     int            mem_len;
 293:../../iot_link/stimer/stimer.c **** 
 294:../../iot_link/stimer/stimer.c ****     mem_len = sizeof(stimer_item_t);
 295:../../iot_link/stimer/stimer.c **** 
 296:../../iot_link/stimer/stimer.c ****     if(NULL != name)
 297:../../iot_link/stimer/stimer.c ****     {
 298:../../iot_link/stimer/stimer.c ****         mem_len += strlen(name) + 1;
 299:../../iot_link/stimer/stimer.c ****     }
 300:../../iot_link/stimer/stimer.c **** 
 301:../../iot_link/stimer/stimer.c ****     item  = osal_malloc( mem_len);
 302:../../iot_link/stimer/stimer.c ****     if(NULL == item)
 303:../../iot_link/stimer/stimer.c ****     {
ARM GAS  C:\Users\LuckyE\AppData\Local\Temp\ccv7WOz3.s 			page 13


 304:../../iot_link/stimer/stimer.c ****         return item;
 305:../../iot_link/stimer/stimer.c ****     }
 306:../../iot_link/stimer/stimer.c ****     (void) memset(item,0,sizeof(stimer_item_t));
 307:../../iot_link/stimer/stimer.c ****     item->cycle = cycle;
 308:../../iot_link/stimer/stimer.c ****     item->flag = flag;
 309:../../iot_link/stimer/stimer.c ****     item->handler = handler;
 310:../../iot_link/stimer/stimer.c ****     item->args = arg;
 311:../../iot_link/stimer/stimer.c ****     if(NULL != name)
 312:../../iot_link/stimer/stimer.c ****     {
 313:../../iot_link/stimer/stimer.c ****         item->name = (char *)item +sizeof(stimer_item_t);
 314:../../iot_link/stimer/stimer.c ****         (void) strncpy(item->name,name,strlen(name)+1);
 315:../../iot_link/stimer/stimer.c ****     }
 316:../../iot_link/stimer/stimer.c **** 
 317:../../iot_link/stimer/stimer.c **** 
 318:../../iot_link/stimer/stimer.c ****     if(item->flag & cn_stimer_flag_start)
 319:../../iot_link/stimer/stimer.c ****     {
 320:../../iot_link/stimer/stimer.c ****         item->dead_time  = osal_sys_time() + item->cycle;
 321:../../iot_link/stimer/stimer.c ****     }
 322:../../iot_link/stimer/stimer.c ****     else
 323:../../iot_link/stimer/stimer.c ****     {
 324:../../iot_link/stimer/stimer.c ****         item->dead_time = cn_stimer_dead_max;
 325:../../iot_link/stimer/stimer.c ****     }
 326:../../iot_link/stimer/stimer.c **** 
 327:../../iot_link/stimer/stimer.c ****     if(true == osal_mutex_lock(s_stimer_cb.mutex))
 328:../../iot_link/stimer/stimer.c ****     {
 329:../../iot_link/stimer/stimer.c ****         timer_add(item);
 330:../../iot_link/stimer/stimer.c ****         (void) osal_mutex_unlock(s_stimer_cb.mutex);
 331:../../iot_link/stimer/stimer.c ****         (void) osal_semp_post(s_stimer_cb.semp);
 332:../../iot_link/stimer/stimer.c ****     }
 333:../../iot_link/stimer/stimer.c ****     else
 334:../../iot_link/stimer/stimer.c ****     {
 335:../../iot_link/stimer/stimer.c ****         osal_free(item);
 336:../../iot_link/stimer/stimer.c ****         item = NULL;
 337:../../iot_link/stimer/stimer.c ****     }
 338:../../iot_link/stimer/stimer.c **** 
 339:../../iot_link/stimer/stimer.c ****     return item;
 340:../../iot_link/stimer/stimer.c **** }
 341:../../iot_link/stimer/stimer.c **** 
 342:../../iot_link/stimer/stimer.c **** int32_t stimer_delete(stimer_t timer)
 343:../../iot_link/stimer/stimer.c **** {
 344:../../iot_link/stimer/stimer.c ****     int32_t ret = -1;
 345:../../iot_link/stimer/stimer.c **** 
 346:../../iot_link/stimer/stimer.c ****     if(true == osal_mutex_lock(s_stimer_cb.mutex))
 347:../../iot_link/stimer/stimer.c ****     {
 348:../../iot_link/stimer/stimer.c ****         timer_remove(timer);
 349:../../iot_link/stimer/stimer.c ****         (void) osal_mutex_unlock(s_stimer_cb.mutex);
 350:../../iot_link/stimer/stimer.c ****         osal_free(timer);
 351:../../iot_link/stimer/stimer.c ****         (void) osal_semp_post(s_stimer_cb.semp);
 352:../../iot_link/stimer/stimer.c ****         ret = 0;
 353:../../iot_link/stimer/stimer.c ****     }
 354:../../iot_link/stimer/stimer.c **** 
 355:../../iot_link/stimer/stimer.c ****     return ret;
 356:../../iot_link/stimer/stimer.c **** }
 357:../../iot_link/stimer/stimer.c **** 
 358:../../iot_link/stimer/stimer.c **** int32_t stimer_ioctl(stimer_t timer,en_stimer_opt_t opt, void *arg)
 359:../../iot_link/stimer/stimer.c **** {
 360:../../iot_link/stimer/stimer.c ****     int32_t ret = -1;
ARM GAS  C:\Users\LuckyE\AppData\Local\Temp\ccv7WOz3.s 			page 14


 361:../../iot_link/stimer/stimer.c **** 
 362:../../iot_link/stimer/stimer.c ****     stimer_item_t   *item;
 363:../../iot_link/stimer/stimer.c ****     if(NULL == timer)
 364:../../iot_link/stimer/stimer.c ****     {
 365:../../iot_link/stimer/stimer.c ****         return ret;
 366:../../iot_link/stimer/stimer.c ****     }
 367:../../iot_link/stimer/stimer.c **** 
 368:../../iot_link/stimer/stimer.c ****     item = timer;
 369:../../iot_link/stimer/stimer.c ****     if(true == osal_mutex_lock(s_stimer_cb.mutex))
 370:../../iot_link/stimer/stimer.c ****     {
 371:../../iot_link/stimer/stimer.c ****         switch(opt)
 372:../../iot_link/stimer/stimer.c ****         {
 373:../../iot_link/stimer/stimer.c ****             case en_stimer_opt_gettime:
 374:../../iot_link/stimer/stimer.c ****                 if(NULL != arg)
 375:../../iot_link/stimer/stimer.c ****                 {
 376:../../iot_link/stimer/stimer.c ****                     *(uint32_t *)arg = item->dead_time- osal_sys_time();
 377:../../iot_link/stimer/stimer.c ****                     ret = 0;
 378:../../iot_link/stimer/stimer.c ****                 }
 379:../../iot_link/stimer/stimer.c ****                 break;
 380:../../iot_link/stimer/stimer.c ****             case en_stimer_opt_stop:
 381:../../iot_link/stimer/stimer.c ****                 timer_remove(item);
 382:../../iot_link/stimer/stimer.c ****                 item->nxt = NULL;
 383:../../iot_link/stimer/stimer.c ****                 item->flag &= (~cn_stimer_flag_start);
 384:../../iot_link/stimer/stimer.c ****                 item->dead_time = cn_stimer_dead_max;
 385:../../iot_link/stimer/stimer.c ****                 timer_add(item);
 386:../../iot_link/stimer/stimer.c ****                 (void) osal_semp_post(s_stimer_cb.semp);
 387:../../iot_link/stimer/stimer.c ****                 ret = 0;
 388:../../iot_link/stimer/stimer.c ****                 break;
 389:../../iot_link/stimer/stimer.c ****             case en_stimer_opt_start:
 390:../../iot_link/stimer/stimer.c ****                 timer_remove(item);
 391:../../iot_link/stimer/stimer.c ****                 item->nxt = NULL;
 392:../../iot_link/stimer/stimer.c ****                 item->flag |= cn_stimer_flag_start;
 393:../../iot_link/stimer/stimer.c ****                 item->dead_time = item->cycle + osal_sys_time();
 394:../../iot_link/stimer/stimer.c ****                 timer_add(item);
 395:../../iot_link/stimer/stimer.c ****                 (void) osal_semp_post(s_stimer_cb.semp);
 396:../../iot_link/stimer/stimer.c ****                 ret = 0;
 397:../../iot_link/stimer/stimer.c ****                 break;
 398:../../iot_link/stimer/stimer.c ****             case en_stimer_opt_recycle:
 399:../../iot_link/stimer/stimer.c ****                 timer_remove(item);
 400:../../iot_link/stimer/stimer.c ****                 item->nxt = NULL;
 401:../../iot_link/stimer/stimer.c ****                 item->cycle = *(uint32_t *)arg;
 402:../../iot_link/stimer/stimer.c ****                 if(item->flag & cn_stimer_flag_start)
 403:../../iot_link/stimer/stimer.c ****                 {
 404:../../iot_link/stimer/stimer.c ****                     item->dead_time = item->cycle + osal_sys_time();
 405:../../iot_link/stimer/stimer.c ****                 }
 406:../../iot_link/stimer/stimer.c ****                 timer_add(item);
 407:../../iot_link/stimer/stimer.c ****                 (void) osal_semp_post(s_stimer_cb.semp);
 408:../../iot_link/stimer/stimer.c ****                 ret = 0;
 409:../../iot_link/stimer/stimer.c ****                 break;
 410:../../iot_link/stimer/stimer.c ****             default:
 411:../../iot_link/stimer/stimer.c ****                 ret = -1;
 412:../../iot_link/stimer/stimer.c **** 
 413:../../iot_link/stimer/stimer.c ****         }
 414:../../iot_link/stimer/stimer.c ****         (void) osal_mutex_unlock(s_stimer_cb.mutex);
 415:../../iot_link/stimer/stimer.c ****     }
 416:../../iot_link/stimer/stimer.c **** 
 417:../../iot_link/stimer/stimer.c ****     return ret;
ARM GAS  C:\Users\LuckyE\AppData\Local\Temp\ccv7WOz3.s 			page 15


 418:../../iot_link/stimer/stimer.c **** 
 419:../../iot_link/stimer/stimer.c **** }
 420:../../iot_link/stimer/stimer.c **** 
 421:../../iot_link/stimer/stimer.c **** 
 422:../../iot_link/stimer/stimer.c **** #ifdef CONFIG_SHELL_ENABLE
 423:../../iot_link/stimer/stimer.c **** #include <shell.h>
 424:../../iot_link/stimer/stimer.c **** static int32_t stimer_print(int32_t argc, const char *argv[])
 425:../../iot_link/stimer/stimer.c **** {
 346              		.loc 1 425 0
 347              		.cfi_startproc
 348              		@ args = 0, pretend = 0, frame = 0
 349              		@ frame_needed = 0, uses_anonymous_args = 0
 350              	.LVL33:
 351 0000 2DE9F04F 		push	{r4, r5, r6, r7, r8, r9, r10, fp, lr}
 352              	.LCFI2:
 353              		.cfi_def_cfa_offset 36
 354              		.cfi_offset 4, -36
 355              		.cfi_offset 5, -32
 356              		.cfi_offset 6, -28
 357              		.cfi_offset 7, -24
 358              		.cfi_offset 8, -20
 359              		.cfi_offset 9, -16
 360              		.cfi_offset 10, -12
 361              		.cfi_offset 11, -8
 362              		.cfi_offset 14, -4
 426:../../iot_link/stimer/stimer.c ****     int       timer_number = 0;
 427:../../iot_link/stimer/stimer.c ****     stimer_item_t  *item = NULL;
 428:../../iot_link/stimer/stimer.c **** 
 429:../../iot_link/stimer/stimer.c ****     (void) timer_number;
 430:../../iot_link/stimer/stimer.c **** 
 431:../../iot_link/stimer/stimer.c ****     if(true == osal_mutex_lock(s_stimer_cb.mutex))
 363              		.loc 1 431 0
 364 0004 3E4D     		ldr	r5, .L58
 425:../../iot_link/stimer/stimer.c ****     int       timer_number = 0;
 365              		.loc 1 425 0
 366 0006 89B0     		sub	sp, sp, #36
 367              	.LCFI3:
 368              		.cfi_def_cfa_offset 72
 369              		.loc 1 431 0
 370 0008 6868     		ldr	r0, [r5, #4]
 371              	.LVL34:
 372 000a FFF7FEFF 		bl	osal_mutex_lock
 373              	.LVL35:
 374 000e 0128     		cmp	r0, #1
 375 0010 0446     		mov	r4, r0
 376 0012 41D1     		bne	.L46
 377              	.LVL36:
 378              	.LBB10:
 379              	.LBB11:
 432:../../iot_link/stimer/stimer.c ****     {
 433:../../iot_link/stimer/stimer.c ****         LINK_LOG_DEBUG("%-12s %-8s %-8s %-8s %-5s %-5s %s\n\r",\
 380              		.loc 1 433 0
 381 0014 FFF7FEFF 		bl	link_log_level_get
 382              	.LVL37:
 383 0018 0128     		cmp	r0, #1
 384 001a 1ED8     		bhi	.L47
 385 001c 2046     		mov	r0, r4
ARM GAS  C:\Users\LuckyE\AppData\Local\Temp\ccv7WOz3.s 			page 16


 386 001e FFF7FEFF 		bl	link_log_level_name
 387              	.LVL38:
 388 0022 0446     		mov	r4, r0
 389 0024 FFF7FEFF 		bl	osal_sys_time
 390              	.LVL39:
 391 0028 364B     		ldr	r3, .L58+4
 392 002a 0693     		str	r3, [sp, #24]
 393 002c 364B     		ldr	r3, .L58+8
 394 002e 0593     		str	r3, [sp, #20]
 395 0030 364B     		ldr	r3, .L58+12
 396 0032 0493     		str	r3, [sp, #16]
 397 0034 364B     		ldr	r3, .L58+16
 398 0036 0393     		str	r3, [sp, #12]
 399 0038 364B     		ldr	r3, .L58+20
 400 003a 0293     		str	r3, [sp, #8]
 401 003c 364B     		ldr	r3, .L58+24
 402 003e 0193     		str	r3, [sp, #4]
 403 0040 364B     		ldr	r3, .L58+28
 404 0042 0093     		str	r3, [sp]
 405 0044 0246     		mov	r2, r0
 406 0046 364B     		ldr	r3, .L58+32
 407 0048 3648     		ldr	r0, .L58+36
 408 004a 2146     		mov	r1, r4
 409 004c FFF7FEFF 		bl	printf
 410              	.LVL40:
 411 0050 354B     		ldr	r3, .L58+40
 412 0052 1B68     		ldr	r3, [r3]
 413 0054 9868     		ldr	r0, [r3, #8]
 414 0056 FFF7FEFF 		bl	fflush
 415              	.LVL41:
 416              	.L47:
 434:../../iot_link/stimer/stimer.c ****                 "Timer-Name","Cycle","Handler","Arg","Start","Once","DeadTime");
 435:../../iot_link/stimer/stimer.c **** 
 436:../../iot_link/stimer/stimer.c ****         item = s_stimer_cb.lst;
 417              		.loc 1 436 0
 418 005a AC68     		ldr	r4, [r5, #8]
 419              	.LVL42:
 437:../../iot_link/stimer/stimer.c ****         while(NULL != item)
 438:../../iot_link/stimer/stimer.c ****         {
 439:../../iot_link/stimer/stimer.c ****             LINK_LOG_DEBUG("%-12s %08x %08x %08x %-5s %-5s %x\n\r",\
 420              		.loc 1 439 0
 421 005c DFF8DC80 		ldr	r8, .L58+60
 422 0060 324E     		ldr	r6, .L58+44
 423 0062 334F     		ldr	r7, .L58+48
 424              	.L48:
 437:../../iot_link/stimer/stimer.c ****         while(NULL != item)
 425              		.loc 1 437 0
 426 0064 E4B9     		cbnz	r4, .L53
 440:../../iot_link/stimer/stimer.c ****                     (NULL==item->name)?"UNKONW":item->name,\
 441:../../iot_link/stimer/stimer.c ****                     (unsigned int)item->cycle,(unsigned int)(uintptr_t)item->handler,(unsigned int)
 442:../../iot_link/stimer/stimer.c ****                     item->flag&cn_stimer_flag_start?"Yes":"No",item->flag&cn_stimer_flag_once?"Yes"
 443:../../iot_link/stimer/stimer.c ****                     (unsigned int)item->dead_time);
 444:../../iot_link/stimer/stimer.c ****             item = item->nxt;
 445:../../iot_link/stimer/stimer.c ****         }
 446:../../iot_link/stimer/stimer.c ****         LINK_LOG_DEBUG("Total:%d Soft timers\n\r",timer_number);
 427              		.loc 1 446 0
 428 0066 FFF7FEFF 		bl	link_log_level_get
ARM GAS  C:\Users\LuckyE\AppData\Local\Temp\ccv7WOz3.s 			page 17


 429              	.LVL43:
 430 006a 0128     		cmp	r0, #1
 431 006c 11D8     		bhi	.L54
 432 006e 0120     		movs	r0, #1
 433 0070 FFF7FEFF 		bl	link_log_level_name
 434              	.LVL44:
 435 0074 0646     		mov	r6, r0
 436 0076 FFF7FEFF 		bl	osal_sys_time
 437              	.LVL45:
 438 007a 294B     		ldr	r3, .L58+32
 439 007c 0094     		str	r4, [sp]
 440 007e 0246     		mov	r2, r0
 441 0080 3146     		mov	r1, r6
 442 0082 2C48     		ldr	r0, .L58+52
 443 0084 FFF7FEFF 		bl	printf
 444              	.LVL46:
 445 0088 274B     		ldr	r3, .L58+40
 446 008a 1B68     		ldr	r3, [r3]
 447 008c 9868     		ldr	r0, [r3, #8]
 448 008e FFF7FEFF 		bl	fflush
 449              	.LVL47:
 450              	.L54:
 447:../../iot_link/stimer/stimer.c **** 
 448:../../iot_link/stimer/stimer.c ****         (void) osal_mutex_unlock(s_stimer_cb.mutex);
 451              		.loc 1 448 0
 452 0092 6868     		ldr	r0, [r5, #4]
 453 0094 FFF7FEFF 		bl	osal_mutex_unlock
 454              	.LVL48:
 455              	.L46:
 456              	.LBE11:
 457              	.LBE10:
 449:../../iot_link/stimer/stimer.c ****     }
 450:../../iot_link/stimer/stimer.c **** 
 451:../../iot_link/stimer/stimer.c ****     return 0;
 452:../../iot_link/stimer/stimer.c **** }
 458              		.loc 1 452 0
 459 0098 0020     		movs	r0, #0
 460 009a 09B0     		add	sp, sp, #36
 461              	.LCFI4:
 462              		.cfi_remember_state
 463              		.cfi_def_cfa_offset 36
 464              		@ sp needed
 465 009c BDE8F08F 		pop	{r4, r5, r6, r7, r8, r9, r10, fp, pc}
 466              	.LVL49:
 467              	.L53:
 468              	.LCFI5:
 469              		.cfi_restore_state
 470              	.LBB13:
 471              	.LBB12:
 439:../../iot_link/stimer/stimer.c ****                     (NULL==item->name)?"UNKONW":item->name,\
 472              		.loc 1 439 0
 473 00a0 FFF7FEFF 		bl	link_log_level_get
 474              	.LVL50:
 475 00a4 0128     		cmp	r0, #1
 476 00a6 29D8     		bhi	.L49
 477 00a8 0120     		movs	r0, #1
 478 00aa FFF7FEFF 		bl	link_log_level_name
ARM GAS  C:\Users\LuckyE\AppData\Local\Temp\ccv7WOz3.s 			page 18


 479              	.LVL51:
 480 00ae 8146     		mov	r9, r0
 481 00b0 FFF7FEFF 		bl	osal_sys_time
 482              	.LVL52:
 483 00b4 211D     		adds	r1, r4, #4
 484 00b6 91E80650 		ldm	r1, {r1, r2, ip, lr}
 485 00ba 2368     		ldr	r3, [r4]
 486 00bc 002B     		cmp	r3, #0
 487 00be 08BF     		it	eq
 488 00c0 4346     		moveq	r3, r8
 489 00c2 12F0020F 		tst	r2, #2
 490 00c6 14BF     		ite	ne
 491 00c8 B246     		movne	r10, r6
 492 00ca BA46     		moveq	r10, r7
 493 00cc 12F0010F 		tst	r2, #1
 494 00d0 A269     		ldr	r2, [r4, #24]
 495 00d2 0093     		str	r3, [sp]
 496 00d4 14BF     		ite	ne
 497 00d6 B346     		movne	fp, r6
 498 00d8 BB46     		moveq	fp, r7
 499 00da CDE905B2 		strd	fp, r2, [sp, #20]
 500 00de CDE9011C 		strd	r1, ip, [sp, #4]
 501 00e2 0F4B     		ldr	r3, .L58+32
 502 00e4 0246     		mov	r2, r0
 503 00e6 CDE903EA 		strd	lr, r10, [sp, #12]
 504 00ea 4946     		mov	r1, r9
 505 00ec 1248     		ldr	r0, .L58+56
 506 00ee FFF7FEFF 		bl	printf
 507              	.LVL53:
 508 00f2 0D4B     		ldr	r3, .L58+40
 509 00f4 1B68     		ldr	r3, [r3]
 510 00f6 9868     		ldr	r0, [r3, #8]
 511 00f8 FFF7FEFF 		bl	fflush
 512              	.LVL54:
 513              	.L49:
 444:../../iot_link/stimer/stimer.c ****         }
 514              		.loc 1 444 0
 515 00fc 246A     		ldr	r4, [r4, #32]
 516              	.LVL55:
 517 00fe B1E7     		b	.L48
 518              	.L59:
 519              		.align	2
 520              	.L58:
 521 0100 00000000 		.word	.LANCHOR0
 522 0104 41000000 		.word	.LC4
 523 0108 4A000000 		.word	.LC5
 524 010c 4F000000 		.word	.LC6
 525 0110 55000000 		.word	.LC7
 526 0114 59000000 		.word	.LC8
 527 0118 61000000 		.word	.LC9
 528 011c 67000000 		.word	.LC10
 529 0120 00000000 		.word	.LANCHOR1
 530 0124 0E000000 		.word	.LC3
 531 0128 00000000 		.word	_impure_ptr
 532 012c 07000000 		.word	.LC1
 533 0130 0B000000 		.word	.LC2
 534 0134 A5000000 		.word	.LC12
ARM GAS  C:\Users\LuckyE\AppData\Local\Temp\ccv7WOz3.s 			page 19


 535 0138 72000000 		.word	.LC11
 536 013c 00000000 		.word	.LC0
 537              	.LBE12:
 538              	.LBE13:
 539              		.cfi_endproc
 540              	.LFE12:
 542              		.section	.text.stimer_daemonquit,"ax",%progbits
 543              		.align	1
 544              		.global	stimer_daemonquit
 545              		.syntax unified
 546              		.thumb
 547              		.thumb_func
 548              		.fpu fpv4-sp-d16
 550              	stimer_daemonquit:
 551              	.LFB6:
 203:../../iot_link/stimer/stimer.c **** 
 552              		.loc 1 203 0
 553              		.cfi_startproc
 554              		@ args = 0, pretend = 0, frame = 0
 555              		@ frame_needed = 0, uses_anonymous_args = 0
 556              		@ link register save eliminated.
 205:../../iot_link/stimer/stimer.c **** 
 557              		.loc 1 205 0
 558 0000 024B     		ldr	r3, .L61
 559 0002 0122     		movs	r2, #1
 560 0004 1A61     		str	r2, [r3, #16]
 208:../../iot_link/stimer/stimer.c **** 
 561              		.loc 1 208 0
 562 0006 0020     		movs	r0, #0
 563 0008 7047     		bx	lr
 564              	.L62:
 565 000a 00BF     		.align	2
 566              	.L61:
 567 000c 00000000 		.word	.LANCHOR0
 568              		.cfi_endproc
 569              	.LFE6:
 571              		.section	.text.stimer_init,"ax",%progbits
 572              		.align	1
 573              		.global	stimer_init
 574              		.syntax unified
 575              		.thumb
 576              		.thumb_func
 577              		.fpu fpv4-sp-d16
 579              	stimer_init:
 580              	.LFB8:
 256:../../iot_link/stimer/stimer.c ****     int32_t ret =-1;
 581              		.loc 1 256 0
 582              		.cfi_startproc
 583              		@ args = 0, pretend = 0, frame = 0
 584              		@ frame_needed = 0, uses_anonymous_args = 0
 585              	.LVL56:
 586 0000 73B5     		push	{r0, r1, r4, r5, r6, lr}
 587              	.LCFI6:
 588              		.cfi_def_cfa_offset 24
 589              		.cfi_offset 4, -16
 590              		.cfi_offset 5, -12
 591              		.cfi_offset 6, -8
ARM GAS  C:\Users\LuckyE\AppData\Local\Temp\ccv7WOz3.s 			page 20


 592              		.cfi_offset 14, -4
 259:../../iot_link/stimer/stimer.c ****     {
 593              		.loc 1 259 0
 594 0002 164D     		ldr	r5, .L71
 595 0004 0022     		movs	r2, #0
 596 0006 0121     		movs	r1, #1
 597 0008 2846     		mov	r0, r5
 598 000a FFF7FEFF 		bl	osal_semp_create
 599              	.LVL57:
 600 000e 2E46     		mov	r6, r5
 601 0010 08B3     		cbz	r0, .L67
 263:../../iot_link/stimer/stimer.c ****     {
 602              		.loc 1 263 0
 603 0012 281D     		adds	r0, r5, #4
 604 0014 FFF7FEFF 		bl	osal_mutex_create
 605              	.LVL58:
 606 0018 B0B1     		cbz	r0, .L65
 268:../../iot_link/stimer/stimer.c **** 
 607              		.loc 1 268 0
 608 001a 0024     		movs	r4, #0
 609 001c 0A23     		movs	r3, #10
 610 001e CDE90043 		strd	r4, r3, [sp]
 611 0022 2246     		mov	r2, r4
 612 0024 4FF40063 		mov	r3, #2048
 613 0028 0D49     		ldr	r1, .L71+4
 614 002a 0E48     		ldr	r0, .L71+8
 615 002c FFF7FEFF 		bl	osal_task_create
 616              	.LVL59:
 617 0030 E860     		str	r0, [r5, #12]
 270:../../iot_link/stimer/stimer.c ****     {
 618              		.loc 1 270 0
 619 0032 18B1     		cbz	r0, .L66
 274:../../iot_link/stimer/stimer.c **** 
 620              		.loc 1 274 0
 621 0034 2C61     		str	r4, [r5, #16]
 622              	.LVL60:
 277:../../iot_link/stimer/stimer.c **** 
 623              		.loc 1 277 0
 624 0036 2046     		mov	r0, r4
 625              	.LVL61:
 626              	.L63:
 287:../../iot_link/stimer/stimer.c **** 
 627              		.loc 1 287 0
 628 0038 02B0     		add	sp, sp, #8
 629              	.LCFI7:
 630              		.cfi_remember_state
 631              		.cfi_def_cfa_offset 16
 632              		@ sp needed
 633 003a 70BD     		pop	{r4, r5, r6, pc}
 634              	.LVL62:
 635              	.L66:
 636              	.LCFI8:
 637              		.cfi_restore_state
 280:../../iot_link/stimer/stimer.c ****     s_stimer_cb.mutex = cn_mutex_invalid;
 638              		.loc 1 280 0
 639 003c 6868     		ldr	r0, [r5, #4]
 640 003e FFF7FEFF 		bl	osal_mutex_del
ARM GAS  C:\Users\LuckyE\AppData\Local\Temp\ccv7WOz3.s 			page 21


 641              	.LVL63:
 281:../../iot_link/stimer/stimer.c **** EXIT_MUTEXERR:
 642              		.loc 1 281 0
 643 0042 4FF0FF33 		mov	r3, #-1
 644 0046 6B60     		str	r3, [r5, #4]
 645              	.L65:
 283:../../iot_link/stimer/stimer.c ****     s_stimer_cb.semp = cn_semp_invalid;
 646              		.loc 1 283 0
 647 0048 3068     		ldr	r0, [r6]
 648 004a FFF7FEFF 		bl	osal_semp_del
 649              	.LVL64:
 284:../../iot_link/stimer/stimer.c **** EXIT_SEMPERR:
 650              		.loc 1 284 0
 651 004e 4FF0FF30 		mov	r0, #-1
 652 0052 3060     		str	r0, [r6]
 653 0054 F0E7     		b	.L63
 654              	.L67:
 286:../../iot_link/stimer/stimer.c **** }
 655              		.loc 1 286 0
 656 0056 4FF0FF30 		mov	r0, #-1
 657 005a EDE7     		b	.L63
 658              	.L72:
 659              		.align	2
 660              	.L71:
 661 005c 00000000 		.word	.LANCHOR0
 662 0060 00000000 		.word	__timer_entry
 663 0064 00000000 		.word	.LC13
 664              		.cfi_endproc
 665              	.LFE8:
 667              		.section	.text.stimer_create,"ax",%progbits
 668              		.align	1
 669              		.global	stimer_create
 670              		.syntax unified
 671              		.thumb
 672              		.thumb_func
 673              		.fpu fpv4-sp-d16
 675              	stimer_create:
 676              	.LFB9:
 290:../../iot_link/stimer/stimer.c ****     stimer_item_t *item;
 677              		.loc 1 290 0
 678              		.cfi_startproc
 679              		@ args = 4, pretend = 0, frame = 0
 680              		@ frame_needed = 0, uses_anonymous_args = 0
 681              	.LVL65:
 682 0000 2DE9F843 		push	{r3, r4, r5, r6, r7, r8, r9, lr}
 683              	.LCFI9:
 684              		.cfi_def_cfa_offset 32
 685              		.cfi_offset 3, -32
 686              		.cfi_offset 4, -28
 687              		.cfi_offset 5, -24
 688              		.cfi_offset 6, -20
 689              		.cfi_offset 7, -16
 690              		.cfi_offset 8, -12
 691              		.cfi_offset 9, -8
 692              		.cfi_offset 14, -4
 290:../../iot_link/stimer/stimer.c ****     stimer_item_t *item;
 693              		.loc 1 290 0
ARM GAS  C:\Users\LuckyE\AppData\Local\Temp\ccv7WOz3.s 			page 22


 694 0004 089E     		ldr	r6, [sp, #32]
 695 0006 8846     		mov	r8, r1
 696 0008 1746     		mov	r7, r2
 697 000a 9946     		mov	r9, r3
 296:../../iot_link/stimer/stimer.c ****     {
 698              		.loc 1 296 0
 699 000c 0546     		mov	r5, r0
 700 000e 0028     		cmp	r0, #0
 701 0010 36D0     		beq	.L80
 298:../../iot_link/stimer/stimer.c ****     }
 702              		.loc 1 298 0
 703 0012 FFF7FEFF 		bl	strlen
 704              	.LVL66:
 705 0016 2930     		adds	r0, r0, #41
 706              	.LVL67:
 707              	.L74:
 301:../../iot_link/stimer/stimer.c ****     if(NULL == item)
 708              		.loc 1 301 0
 709 0018 FFF7FEFF 		bl	osal_malloc
 710              	.LVL68:
 302:../../iot_link/stimer/stimer.c ****     {
 711              		.loc 1 302 0
 712 001c 0446     		mov	r4, r0
 713 001e 60B3     		cbz	r0, .L73
 306:../../iot_link/stimer/stimer.c ****     item->cycle = cycle;
 714              		.loc 1 306 0
 715 0020 2822     		movs	r2, #40
 716 0022 0021     		movs	r1, #0
 717 0024 FFF7FEFF 		bl	memset
 718              	.LVL69:
 308:../../iot_link/stimer/stimer.c ****     item->handler = handler;
 719              		.loc 1 308 0
 720 0028 C4E90196 		strd	r9, r6, [r4, #4]
 310:../../iot_link/stimer/stimer.c ****     if(NULL != name)
 721              		.loc 1 310 0
 722 002c C4E90387 		strd	r8, r7, [r4, #12]
 311:../../iot_link/stimer/stimer.c ****     {
 723              		.loc 1 311 0
 724 0030 55B1     		cbz	r5, .L76
 313:../../iot_link/stimer/stimer.c ****         (void) strncpy(item->name,name,strlen(name)+1);
 725              		.loc 1 313 0
 726 0032 04F12807 		add	r7, r4, #40
 727              	.LVL70:
 728 0036 2760     		str	r7, [r4]
 314:../../iot_link/stimer/stimer.c ****     }
 729              		.loc 1 314 0
 730 0038 2846     		mov	r0, r5
 731 003a FFF7FEFF 		bl	strlen
 732              	.LVL71:
 733 003e 2946     		mov	r1, r5
 734 0040 421C     		adds	r2, r0, #1
 735 0042 3846     		mov	r0, r7
 736 0044 FFF7FEFF 		bl	strncpy
 737              	.LVL72:
 738              	.L76:
 318:../../iot_link/stimer/stimer.c ****     {
 739              		.loc 1 318 0
ARM GAS  C:\Users\LuckyE\AppData\Local\Temp\ccv7WOz3.s 			page 23


 740 0048 B307     		lsls	r3, r6, #30
 741 004a 1BD5     		bpl	.L77
 320:../../iot_link/stimer/stimer.c ****     }
 742              		.loc 1 320 0
 743 004c FFF7FEFF 		bl	osal_sys_time
 744              	.LVL73:
 745 0050 6368     		ldr	r3, [r4, #4]
 746 0052 C518     		adds	r5, r0, r3
 747              	.LVL74:
 748 0054 41F10006 		adc	r6, r1, #0
 749 0058 C4E90656 		strd	r5, [r4, #24]
 750              	.L78:
 327:../../iot_link/stimer/stimer.c ****     {
 751              		.loc 1 327 0
 752 005c 0F4D     		ldr	r5, .L87
 753 005e 6868     		ldr	r0, [r5, #4]
 754 0060 FFF7FEFF 		bl	osal_mutex_lock
 755              	.LVL75:
 756 0064 0128     		cmp	r0, #1
 329:../../iot_link/stimer/stimer.c ****         (void) osal_mutex_unlock(s_stimer_cb.mutex);
 757              		.loc 1 329 0
 758 0066 2046     		mov	r0, r4
 327:../../iot_link/stimer/stimer.c ****     {
 759              		.loc 1 327 0
 760 0068 13D1     		bne	.L79
 761              	.LVL76:
 329:../../iot_link/stimer/stimer.c ****         (void) osal_mutex_unlock(s_stimer_cb.mutex);
 762              		.loc 1 329 0
 763 006a FFF7FEFF 		bl	timer_add
 764              	.LVL77:
 330:../../iot_link/stimer/stimer.c ****         (void) osal_semp_post(s_stimer_cb.semp);
 765              		.loc 1 330 0
 766 006e 6868     		ldr	r0, [r5, #4]
 767              	.LVL78:
 768 0070 FFF7FEFF 		bl	osal_mutex_unlock
 769              	.LVL79:
 331:../../iot_link/stimer/stimer.c ****     }
 770              		.loc 1 331 0
 771 0074 2868     		ldr	r0, [r5]
 772 0076 FFF7FEFF 		bl	osal_semp_post
 773              	.LVL80:
 774              	.L73:
 340:../../iot_link/stimer/stimer.c **** 
 775              		.loc 1 340 0
 776 007a 2046     		mov	r0, r4
 777 007c BDE8F883 		pop	{r3, r4, r5, r6, r7, r8, r9, pc}
 778              	.LVL81:
 779              	.L80:
 294:../../iot_link/stimer/stimer.c **** 
 780              		.loc 1 294 0
 781 0080 2820     		movs	r0, #40
 782              	.LVL82:
 783 0082 C9E7     		b	.L74
 784              	.LVL83:
 785              	.L77:
 324:../../iot_link/stimer/stimer.c ****     }
 786              		.loc 1 324 0
ARM GAS  C:\Users\LuckyE\AppData\Local\Temp\ccv7WOz3.s 			page 24


 787 0084 4FF0FF32 		mov	r2, #-1
 788 0088 6FF00043 		mvn	r3, #-2147483648
 789 008c C4E90623 		strd	r2, [r4, #24]
 790 0090 E4E7     		b	.L78
 791              	.LVL84:
 792              	.L79:
 335:../../iot_link/stimer/stimer.c ****         item = NULL;
 793              		.loc 1 335 0
 794 0092 FFF7FEFF 		bl	osal_free
 795              	.LVL85:
 336:../../iot_link/stimer/stimer.c ****     }
 796              		.loc 1 336 0
 797 0096 0024     		movs	r4, #0
 798 0098 EFE7     		b	.L73
 799              	.L88:
 800 009a 00BF     		.align	2
 801              	.L87:
 802 009c 00000000 		.word	.LANCHOR0
 803              		.cfi_endproc
 804              	.LFE9:
 806              		.section	.text.stimer_delete,"ax",%progbits
 807              		.align	1
 808              		.global	stimer_delete
 809              		.syntax unified
 810              		.thumb
 811              		.thumb_func
 812              		.fpu fpv4-sp-d16
 814              	stimer_delete:
 815              	.LFB10:
 343:../../iot_link/stimer/stimer.c ****     int32_t ret = -1;
 816              		.loc 1 343 0
 817              		.cfi_startproc
 818              		@ args = 0, pretend = 0, frame = 0
 819              		@ frame_needed = 0, uses_anonymous_args = 0
 820              	.LVL86:
 821 0000 38B5     		push	{r3, r4, r5, lr}
 822              	.LCFI10:
 823              		.cfi_def_cfa_offset 16
 824              		.cfi_offset 3, -16
 825              		.cfi_offset 4, -12
 826              		.cfi_offset 5, -8
 827              		.cfi_offset 14, -4
 346:../../iot_link/stimer/stimer.c ****     {
 828              		.loc 1 346 0
 829 0002 0C4C     		ldr	r4, .L92
 343:../../iot_link/stimer/stimer.c ****     int32_t ret = -1;
 830              		.loc 1 343 0
 831 0004 0546     		mov	r5, r0
 346:../../iot_link/stimer/stimer.c ****     {
 832              		.loc 1 346 0
 833 0006 6068     		ldr	r0, [r4, #4]
 834              	.LVL87:
 835 0008 FFF7FEFF 		bl	osal_mutex_lock
 836              	.LVL88:
 837 000c 0128     		cmp	r0, #1
 838 000e 0DD1     		bne	.L91
 348:../../iot_link/stimer/stimer.c ****         (void) osal_mutex_unlock(s_stimer_cb.mutex);
ARM GAS  C:\Users\LuckyE\AppData\Local\Temp\ccv7WOz3.s 			page 25


 839              		.loc 1 348 0
 840 0010 2846     		mov	r0, r5
 841 0012 FFF7FEFF 		bl	timer_remove
 842              	.LVL89:
 349:../../iot_link/stimer/stimer.c ****         osal_free(timer);
 843              		.loc 1 349 0
 844 0016 6068     		ldr	r0, [r4, #4]
 845 0018 FFF7FEFF 		bl	osal_mutex_unlock
 846              	.LVL90:
 350:../../iot_link/stimer/stimer.c ****         (void) osal_semp_post(s_stimer_cb.semp);
 847              		.loc 1 350 0
 848 001c 2846     		mov	r0, r5
 849 001e FFF7FEFF 		bl	osal_free
 850              	.LVL91:
 351:../../iot_link/stimer/stimer.c ****         ret = 0;
 851              		.loc 1 351 0
 852 0022 2068     		ldr	r0, [r4]
 853 0024 FFF7FEFF 		bl	osal_semp_post
 854              	.LVL92:
 352:../../iot_link/stimer/stimer.c ****     }
 855              		.loc 1 352 0
 856 0028 0020     		movs	r0, #0
 857              	.LVL93:
 858              	.L89:
 356:../../iot_link/stimer/stimer.c **** 
 859              		.loc 1 356 0
 860 002a 38BD     		pop	{r3, r4, r5, pc}
 861              	.LVL94:
 862              	.L91:
 344:../../iot_link/stimer/stimer.c **** 
 863              		.loc 1 344 0
 864 002c 4FF0FF30 		mov	r0, #-1
 355:../../iot_link/stimer/stimer.c **** }
 865              		.loc 1 355 0
 866 0030 FBE7     		b	.L89
 867              	.L93:
 868 0032 00BF     		.align	2
 869              	.L92:
 870 0034 00000000 		.word	.LANCHOR0
 871              		.cfi_endproc
 872              	.LFE10:
 874              		.section	.text.stimer_ioctl,"ax",%progbits
 875              		.align	1
 876              		.global	stimer_ioctl
 877              		.syntax unified
 878              		.thumb
 879              		.thumb_func
 880              		.fpu fpv4-sp-d16
 882              	stimer_ioctl:
 883              	.LFB11:
 359:../../iot_link/stimer/stimer.c ****     int32_t ret = -1;
 884              		.loc 1 359 0
 885              		.cfi_startproc
 886              		@ args = 0, pretend = 0, frame = 0
 887              		@ frame_needed = 0, uses_anonymous_args = 0
 888              	.LVL95:
 889 0000 2DE9F843 		push	{r3, r4, r5, r6, r7, r8, r9, lr}
ARM GAS  C:\Users\LuckyE\AppData\Local\Temp\ccv7WOz3.s 			page 26


 890              	.LCFI11:
 891              		.cfi_def_cfa_offset 32
 892              		.cfi_offset 3, -32
 893              		.cfi_offset 4, -28
 894              		.cfi_offset 5, -24
 895              		.cfi_offset 6, -20
 896              		.cfi_offset 7, -16
 897              		.cfi_offset 8, -12
 898              		.cfi_offset 9, -8
 899              		.cfi_offset 14, -4
 359:../../iot_link/stimer/stimer.c ****     int32_t ret = -1;
 900              		.loc 1 359 0
 901 0004 0F46     		mov	r7, r1
 902 0006 1546     		mov	r5, r2
 363:../../iot_link/stimer/stimer.c ****     {
 903              		.loc 1 363 0
 904 0008 0446     		mov	r4, r0
 905 000a 20B9     		cbnz	r0, .L95
 906              	.LVL96:
 907              	.L97:
 365:../../iot_link/stimer/stimer.c ****     }
 908              		.loc 1 365 0
 909 000c 4FF0FF35 		mov	r5, #-1
 910              	.LVL97:
 911              	.L94:
 419:../../iot_link/stimer/stimer.c **** 
 912              		.loc 1 419 0
 913 0010 2846     		mov	r0, r5
 914 0012 BDE8F883 		pop	{r3, r4, r5, r6, r7, r8, r9, pc}
 915              	.LVL98:
 916              	.L95:
 369:../../iot_link/stimer/stimer.c ****     {
 917              		.loc 1 369 0
 918 0016 2E4E     		ldr	r6, .L112
 919 0018 7068     		ldr	r0, [r6, #4]
 920              	.LVL99:
 921 001a FFF7FEFF 		bl	osal_mutex_lock
 922              	.LVL100:
 923 001e 0128     		cmp	r0, #1
 924 0020 F4D1     		bne	.L97
 371:../../iot_link/stimer/stimer.c ****         {
 925              		.loc 1 371 0
 926 0022 032F     		cmp	r7, #3
 927 0024 51D8     		bhi	.L106
 928 0026 DFE807F0 		tbb	[pc, r7]
 929              	.L100:
 930 002a 0B       		.byte	(.L99-.L100)/2
 931 002b 24       		.byte	(.L101-.L100)/2
 932 002c 02       		.byte	(.L102-.L100)/2
 933 002d 38       		.byte	(.L103-.L100)/2
 934              		.p2align 1
 935              	.L102:
 374:../../iot_link/stimer/stimer.c ****                 {
 936              		.loc 1 374 0
 937 002e 002D     		cmp	r5, #0
 938 0030 4BD0     		beq	.L106
 376:../../iot_link/stimer/stimer.c ****                     ret = 0;
ARM GAS  C:\Users\LuckyE\AppData\Local\Temp\ccv7WOz3.s 			page 27


 939              		.loc 1 376 0
 940 0032 A469     		ldr	r4, [r4, #24]
 941              	.LVL101:
 942 0034 FFF7FEFF 		bl	osal_sys_time
 943              	.LVL102:
 944 0038 201A     		subs	r0, r4, r0
 945 003a 2860     		str	r0, [r5]
 946              	.LVL103:
 947              	.L110:
 408:../../iot_link/stimer/stimer.c ****                 break;
 948              		.loc 1 408 0
 949 003c 0025     		movs	r5, #0
 409:../../iot_link/stimer/stimer.c ****             default:
 950              		.loc 1 409 0
 951 003e 14E0     		b	.L98
 952              	.LVL104:
 953              	.L99:
 381:../../iot_link/stimer/stimer.c ****                 item->nxt = NULL;
 954              		.loc 1 381 0
 955 0040 2046     		mov	r0, r4
 956 0042 FFF7FEFF 		bl	timer_remove
 957              	.LVL105:
 383:../../iot_link/stimer/stimer.c ****                 item->dead_time = cn_stimer_dead_max;
 958              		.loc 1 383 0
 959 0046 A368     		ldr	r3, [r4, #8]
 382:../../iot_link/stimer/stimer.c ****                 item->flag &= (~cn_stimer_flag_start);
 960              		.loc 1 382 0
 961 0048 0025     		movs	r5, #0
 962              	.LVL106:
 383:../../iot_link/stimer/stimer.c ****                 item->dead_time = cn_stimer_dead_max;
 963              		.loc 1 383 0
 964 004a 23F00203 		bic	r3, r3, #2
 965 004e A360     		str	r3, [r4, #8]
 382:../../iot_link/stimer/stimer.c ****                 item->flag &= (~cn_stimer_flag_start);
 966              		.loc 1 382 0
 967 0050 2562     		str	r5, [r4, #32]
 384:../../iot_link/stimer/stimer.c ****                 timer_add(item);
 968              		.loc 1 384 0
 969 0052 4FF0FF32 		mov	r2, #-1
 970 0056 6FF00043 		mvn	r3, #-2147483648
 971              	.L111:
 394:../../iot_link/stimer/stimer.c ****                 (void) osal_semp_post(s_stimer_cb.semp);
 972              		.loc 1 394 0
 973 005a 2046     		mov	r0, r4
 393:../../iot_link/stimer/stimer.c ****                 timer_add(item);
 974              		.loc 1 393 0
 975 005c C4E90623 		strd	r2, [r4, #24]
 394:../../iot_link/stimer/stimer.c ****                 (void) osal_semp_post(s_stimer_cb.semp);
 976              		.loc 1 394 0
 977 0060 FFF7FEFF 		bl	timer_add
 978              	.LVL107:
 395:../../iot_link/stimer/stimer.c ****                 ret = 0;
 979              		.loc 1 395 0
 980 0064 3068     		ldr	r0, [r6]
 981 0066 FFF7FEFF 		bl	osal_semp_post
 982              	.LVL108:
 983              	.L98:
ARM GAS  C:\Users\LuckyE\AppData\Local\Temp\ccv7WOz3.s 			page 28


 414:../../iot_link/stimer/stimer.c ****     }
 984              		.loc 1 414 0
 985 006a 7068     		ldr	r0, [r6, #4]
 986 006c FFF7FEFF 		bl	osal_mutex_unlock
 987              	.LVL109:
 988 0070 CEE7     		b	.L94
 989              	.LVL110:
 990              	.L101:
 390:../../iot_link/stimer/stimer.c ****                 item->nxt = NULL;
 991              		.loc 1 390 0
 992 0072 2046     		mov	r0, r4
 993 0074 FFF7FEFF 		bl	timer_remove
 994              	.LVL111:
 392:../../iot_link/stimer/stimer.c ****                 item->dead_time = item->cycle + osal_sys_time();
 995              		.loc 1 392 0
 996 0078 A368     		ldr	r3, [r4, #8]
 393:../../iot_link/stimer/stimer.c ****                 timer_add(item);
 997              		.loc 1 393 0
 998 007a 6068     		ldr	r0, [r4, #4]
 392:../../iot_link/stimer/stimer.c ****                 item->dead_time = item->cycle + osal_sys_time();
 999              		.loc 1 392 0
 1000 007c 43F00203 		orr	r3, r3, #2
 391:../../iot_link/stimer/stimer.c ****                 item->flag |= cn_stimer_flag_start;
 1001              		.loc 1 391 0
 1002 0080 0025     		movs	r5, #0
 1003              	.LVL112:
 392:../../iot_link/stimer/stimer.c ****                 item->dead_time = item->cycle + osal_sys_time();
 1004              		.loc 1 392 0
 1005 0082 A360     		str	r3, [r4, #8]
 391:../../iot_link/stimer/stimer.c ****                 item->flag |= cn_stimer_flag_start;
 1006              		.loc 1 391 0
 1007 0084 2562     		str	r5, [r4, #32]
 393:../../iot_link/stimer/stimer.c ****                 timer_add(item);
 1008              		.loc 1 393 0
 1009 0086 8046     		mov	r8, r0
 1010 0088 FFF7FEFF 		bl	osal_sys_time
 1011              	.LVL113:
 1012 008c 4FF00009 		mov	r9, #0
 1013 0090 10EB0802 		adds	r2, r0, r8
 1014 0094 41EB0903 		adc	r3, r1, r9
 1015 0098 DFE7     		b	.L111
 1016              	.LVL114:
 1017              	.L103:
 399:../../iot_link/stimer/stimer.c ****                 item->nxt = NULL;
 1018              		.loc 1 399 0
 1019 009a 2046     		mov	r0, r4
 1020 009c FFF7FEFF 		bl	timer_remove
 1021              	.LVL115:
 400:../../iot_link/stimer/stimer.c ****                 item->cycle = *(uint32_t *)arg;
 1022              		.loc 1 400 0
 1023 00a0 0023     		movs	r3, #0
 1024 00a2 2362     		str	r3, [r4, #32]
 402:../../iot_link/stimer/stimer.c ****                 {
 1025              		.loc 1 402 0
 1026 00a4 A368     		ldr	r3, [r4, #8]
 401:../../iot_link/stimer/stimer.c ****                 if(item->flag & cn_stimer_flag_start)
 1027              		.loc 1 401 0
ARM GAS  C:\Users\LuckyE\AppData\Local\Temp\ccv7WOz3.s 			page 29


 1028 00a6 2D68     		ldr	r5, [r5]
 1029              	.LVL116:
 1030 00a8 6560     		str	r5, [r4, #4]
 402:../../iot_link/stimer/stimer.c ****                 {
 1031              		.loc 1 402 0
 1032 00aa 9B07     		lsls	r3, r3, #30
 1033 00ac 06D5     		bpl	.L104
 1034              	.LVL117:
 404:../../iot_link/stimer/stimer.c ****                 }
 1035              		.loc 1 404 0
 1036 00ae FFF7FEFF 		bl	osal_sys_time
 1037              	.LVL118:
 1038 00b2 4219     		adds	r2, r0, r5
 1039 00b4 41F10003 		adc	r3, r1, #0
 1040 00b8 C4E90623 		strd	r2, [r4, #24]
 1041              	.L104:
 406:../../iot_link/stimer/stimer.c ****                 (void) osal_semp_post(s_stimer_cb.semp);
 1042              		.loc 1 406 0
 1043 00bc 2046     		mov	r0, r4
 1044 00be FFF7FEFF 		bl	timer_add
 1045              	.LVL119:
 407:../../iot_link/stimer/stimer.c ****                 ret = 0;
 1046              		.loc 1 407 0
 1047 00c2 3068     		ldr	r0, [r6]
 1048 00c4 FFF7FEFF 		bl	osal_semp_post
 1049              	.LVL120:
 1050 00c8 B8E7     		b	.L110
 1051              	.LVL121:
 1052              	.L106:
 360:../../iot_link/stimer/stimer.c **** 
 1053              		.loc 1 360 0
 1054 00ca 4FF0FF35 		mov	r5, #-1
 1055              	.LVL122:
 1056 00ce CCE7     		b	.L98
 1057              	.L113:
 1058              		.align	2
 1059              	.L112:
 1060 00d0 00000000 		.word	.LANCHOR0
 1061              		.cfi_endproc
 1062              	.LFE11:
 1064              		.section	.data.s_stimer_cb,"aw",%progbits
 1065              		.align	2
 1066              		.set	.LANCHOR0,. + 0
 1069              	s_stimer_cb:
 1070 0000 FFFFFFFF 		.word	-1
 1071 0004 FFFFFFFF 		.word	-1
 1072 0008 00000000 		.word	0
 1073 000c 00000000 		.word	0
 1074 0010 00000000 		.space	4
 1075              		.section	.rodata.__FUNCTION__.7349,"a",%progbits
 1076              		.set	.LANCHOR1,. + 0
 1079              	__FUNCTION__.7349:
 1080 0000 7374696D 		.ascii	"stimer_print\000"
 1080      65725F70 
 1080      72696E74 
 1080      00
 1081              		.section	.rodata.stimer_init.str1.1,"aMS",%progbits,1
ARM GAS  C:\Users\LuckyE\AppData\Local\Temp\ccv7WOz3.s 			page 30


 1082              	.LC13:
 1083 0000 736F6674 		.ascii	"soft timer\000"
 1083      2074696D 
 1083      657200
 1084              		.section	.rodata.stimer_print.str1.1,"aMS",%progbits,1
 1085              	.LC0:
 1086 0000 554E4B4F 		.ascii	"UNKONW\000"
 1086      4E5700
 1087              	.LC1:
 1088 0007 59657300 		.ascii	"Yes\000"
 1089              	.LC2:
 1090 000b 4E6F00   		.ascii	"No\000"
 1091              	.LC3:
 1092 000e 5B25735D 		.ascii	"[%s][%u][%s] %-12s %-8s %-8s %-8s %-5s %-5s %s\012\015"
 1092      5B25755D 
 1092      5B25735D 
 1092      20252D31 
 1092      32732025 
 1093 003e 0D0A00   		.ascii	"\015\012\000"
 1094              	.LC4:
 1095 0041 44656164 		.ascii	"DeadTime\000"
 1095      54696D65 
 1095      00
 1096              	.LC5:
 1097 004a 4F6E6365 		.ascii	"Once\000"
 1097      00
 1098              	.LC6:
 1099 004f 53746172 		.ascii	"Start\000"
 1099      7400
 1100              	.LC7:
 1101 0055 41726700 		.ascii	"Arg\000"
 1102              	.LC8:
 1103 0059 48616E64 		.ascii	"Handler\000"
 1103      6C657200 
 1104              	.LC9:
 1105 0061 4379636C 		.ascii	"Cycle\000"
 1105      6500
 1106              	.LC10:
 1107 0067 54696D65 		.ascii	"Timer-Name\000"
 1107      722D4E61 
 1107      6D6500
 1108              	.LC11:
 1109 0072 5B25735D 		.ascii	"[%s][%u][%s] %-12s %08x %08x %08x %-5s %-5s %x\012\015"
 1109      5B25755D 
 1109      5B25735D 
 1109      20252D31 
 1109      32732025 
 1110 00a2 0D0A00   		.ascii	"\015\012\000"
 1111              	.LC12:
 1112 00a5 5B25735D 		.ascii	"[%s][%u][%s] Total:%d Soft timers\012\015\015\012\000"
 1112      5B25755D 
 1112      5B25735D 
 1112      20546F74 
 1112      616C3A25 
 1113              		.section	.rodata.str1.1,"aMS",%progbits,1
 1114              	.LC14:
 1115 0000 7374696D 		.ascii	"stimer\000"
ARM GAS  C:\Users\LuckyE\AppData\Local\Temp\ccv7WOz3.s 			page 31


 1115      657200
 1116              		.section	oshell,"a",%progbits
 1117              		.align	2
 1120              	__oshell_stimer_print:
 1121 0000 00000000 		.word	.LC14
 1122 0004 00000000 		.word	.LC14
 1123 0008 00000000 		.word	stimer_print
 1124 000c 0000     		.short	0
 1125 000e 0400     		.short	4
 1126              		.text
 1127              	.Letext0:
 1128              		.file 2 "c:\\bearpi\\developtools\\gnu tools arm embedded\\7 2018-q2-update\\arm-none-eabi\\includ
 1129              		.file 3 "c:\\bearpi\\developtools\\gnu tools arm embedded\\7 2018-q2-update\\arm-none-eabi\\includ
 1130              		.file 4 "c:\\bearpi\\developtools\\gnu tools arm embedded\\7 2018-q2-update\\arm-none-eabi\\includ
 1131              		.file 5 "c:\\bearpi\\developtools\\gnu tools arm embedded\\7 2018-q2-update\\arm-none-eabi\\includ
 1132              		.file 6 "c:\\bearpi\\developtools\\gnu tools arm embedded\\7 2018-q2-update\\lib\\gcc\\arm-none-ea
 1133              		.file 7 "c:\\bearpi\\developtools\\gnu tools arm embedded\\7 2018-q2-update\\arm-none-eabi\\includ
 1134              		.file 8 "c:\\bearpi\\developtools\\gnu tools arm embedded\\7 2018-q2-update\\arm-none-eabi\\includ
 1135              		.file 9 "../../iot_link/os/osal/osal_types.h"
 1136              		.file 10 "../../iot_link/inc/link_log.h"
 1137              		.file 11 "../../iot_link/inc/stimer.h"
 1138              		.file 12 "../../iot_link/inc/shell.h"
 1139              		.file 13 "../../iot_link/os/osal/osal.h"
 1140              		.file 14 "c:\\bearpi\\developtools\\gnu tools arm embedded\\7 2018-q2-update\\arm-none-eabi\\inclu
 1141              		.file 15 "c:\\bearpi\\developtools\\gnu tools arm embedded\\7 2018-q2-update\\arm-none-eabi\\inclu
 1142              		.file 16 "<built-in>"
ARM GAS  C:\Users\LuckyE\AppData\Local\Temp\ccv7WOz3.s 			page 32


DEFINED SYMBOLS
                            *ABS*:00000000 stimer.c
C:\Users\LuckyE\AppData\Local\Temp\ccv7WOz3.s:18     .text.timer_remove:00000000 $t
C:\Users\LuckyE\AppData\Local\Temp\ccv7WOz3.s:24     .text.timer_remove:00000000 timer_remove
C:\Users\LuckyE\AppData\Local\Temp\ccv7WOz3.s:67     .text.timer_remove:00000024 $d
C:\Users\LuckyE\AppData\Local\Temp\ccv7WOz3.s:72     .text.timer_add:00000000 $t
C:\Users\LuckyE\AppData\Local\Temp\ccv7WOz3.s:78     .text.timer_add:00000000 timer_add
C:\Users\LuckyE\AppData\Local\Temp\ccv7WOz3.s:150    .text.timer_add:00000040 $d
C:\Users\LuckyE\AppData\Local\Temp\ccv7WOz3.s:155    .text.__timer_entry:00000000 $t
C:\Users\LuckyE\AppData\Local\Temp\ccv7WOz3.s:161    .text.__timer_entry:00000000 __timer_entry
C:\Users\LuckyE\AppData\Local\Temp\ccv7WOz3.s:333    .text.__timer_entry:000000c8 $d
C:\Users\LuckyE\AppData\Local\Temp\ccv7WOz3.s:338    .text.stimer_print:00000000 $t
C:\Users\LuckyE\AppData\Local\Temp\ccv7WOz3.s:344    .text.stimer_print:00000000 stimer_print
C:\Users\LuckyE\AppData\Local\Temp\ccv7WOz3.s:521    .text.stimer_print:00000100 $d
C:\Users\LuckyE\AppData\Local\Temp\ccv7WOz3.s:543    .text.stimer_daemonquit:00000000 $t
C:\Users\LuckyE\AppData\Local\Temp\ccv7WOz3.s:550    .text.stimer_daemonquit:00000000 stimer_daemonquit
C:\Users\LuckyE\AppData\Local\Temp\ccv7WOz3.s:567    .text.stimer_daemonquit:0000000c $d
C:\Users\LuckyE\AppData\Local\Temp\ccv7WOz3.s:572    .text.stimer_init:00000000 $t
C:\Users\LuckyE\AppData\Local\Temp\ccv7WOz3.s:579    .text.stimer_init:00000000 stimer_init
C:\Users\LuckyE\AppData\Local\Temp\ccv7WOz3.s:661    .text.stimer_init:0000005c $d
C:\Users\LuckyE\AppData\Local\Temp\ccv7WOz3.s:668    .text.stimer_create:00000000 $t
C:\Users\LuckyE\AppData\Local\Temp\ccv7WOz3.s:675    .text.stimer_create:00000000 stimer_create
C:\Users\LuckyE\AppData\Local\Temp\ccv7WOz3.s:802    .text.stimer_create:0000009c $d
C:\Users\LuckyE\AppData\Local\Temp\ccv7WOz3.s:807    .text.stimer_delete:00000000 $t
C:\Users\LuckyE\AppData\Local\Temp\ccv7WOz3.s:814    .text.stimer_delete:00000000 stimer_delete
C:\Users\LuckyE\AppData\Local\Temp\ccv7WOz3.s:870    .text.stimer_delete:00000034 $d
C:\Users\LuckyE\AppData\Local\Temp\ccv7WOz3.s:875    .text.stimer_ioctl:00000000 $t
C:\Users\LuckyE\AppData\Local\Temp\ccv7WOz3.s:882    .text.stimer_ioctl:00000000 stimer_ioctl
C:\Users\LuckyE\AppData\Local\Temp\ccv7WOz3.s:930    .text.stimer_ioctl:0000002a $d
C:\Users\LuckyE\AppData\Local\Temp\ccv7WOz3.s:934    .text.stimer_ioctl:0000002e $t
C:\Users\LuckyE\AppData\Local\Temp\ccv7WOz3.s:1060   .text.stimer_ioctl:000000d0 $d
C:\Users\LuckyE\AppData\Local\Temp\ccv7WOz3.s:1065   .data.s_stimer_cb:00000000 $d
C:\Users\LuckyE\AppData\Local\Temp\ccv7WOz3.s:1069   .data.s_stimer_cb:00000000 s_stimer_cb
C:\Users\LuckyE\AppData\Local\Temp\ccv7WOz3.s:1079   .rodata.__FUNCTION__.7349:00000000 __FUNCTION__.7349
C:\Users\LuckyE\AppData\Local\Temp\ccv7WOz3.s:1117   oshell:00000000 $d
C:\Users\LuckyE\AppData\Local\Temp\ccv7WOz3.s:1120   oshell:00000000 __oshell_stimer_print

UNDEFINED SYMBOLS
osal_semp_pend
osal_mutex_lock
osal_sys_time
osal_mutex_unlock
link_log_level_get
link_log_level_name
printf
fflush
_impure_ptr
osal_semp_create
osal_mutex_create
osal_task_create
osal_mutex_del
osal_semp_del
strlen
osal_malloc
memset
strncpy
osal_semp_post
ARM GAS  C:\Users\LuckyE\AppData\Local\Temp\ccv7WOz3.s 			page 33


osal_free
